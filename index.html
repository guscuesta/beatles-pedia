<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Beatles Encyclopedia</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #ffffff;
            color: #1f2937;
        }
        .tab-button.active {
            background-color: #3b82f6;
            color: white;
        }
        .tab-content, .ranking-sub-tab-content {
            display: none;
        }
        .tab-content.active, .ranking-sub-tab-content.active {
            display: block;
        }
        .album-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .album-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .star-rating .fa-star {
            cursor: pointer;
            transition: color 0.2s;
        }
        .star-rating .fa-star:hover,
        .star-rating .fa-star.selected {
            color: #f59e0b;
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 50;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.6);
        }
        .modal-content {
            position: relative;
            margin: 5% auto;
            padding: 24px;
            width: 90%;
        }
        .animate-fade-in {
            animation: fadeIn 0.3s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
        th[data-sort] {
            cursor: pointer;
        }
        .battle-card {
            transition: all 0.2s ease-in-out;
        }
        .battle-card:hover {
            transform: scale(1.03);
            border-color: #3b82f6;
        }
        .ranking-mode-btn {
            transition: all 0.2s;
        }
        .ranking-mode-btn.active {
            background-color: #1d4ed8;
            color: white;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        }
    </style>
</head>
<body class="h-full bg-white text-gray-800">

    <div class="container mx-auto p-4 md:p-8">
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-6xl font-bold text-black mb-2">The Beatles</h1>
        </header>

        <!-- Tabs -->
        <div class="mb-8 border-b border-gray-300">
            <nav class="flex flex-wrap -mb-px" aria-label="Tabs">
                <button class="tab-button active rounded-t-lg text-gray-600 hover:text-black border-b-2 border-transparent hover:border-gray-400 whitespace-nowrap py-4 px-6 text-sm font-medium" data-tab="discography">
                    Discography
                </button>
                <button class="tab-button rounded-t-lg text-gray-600 hover:text-black border-b-2 border-transparent hover:border-gray-400 whitespace-nowrap py-4 px-6 text-sm font-medium" data-tab="timelines">
                    Timelines
                </button>
                <button class="tab-button rounded-t-lg text-gray-600 hover:text-black border-b-2 border-transparent hover:border-gray-400 whitespace-nowrap py-4 px-6 text-sm font-medium" data-tab="song-ranking">
                    Song Ranking
                </button>
            </nav>
        </div>

        <!-- Tab Content -->
        <main>
            <!-- Discography Section -->
            <div id="discography" class="tab-content active animate-fade-in">
                <h2 class="text-3xl font-bold text-black mb-6">Studio Albums</h2>
                <div id="studio-albums-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6"></div>
                <h2 class="text-3xl font-bold text-black mt-12 mb-6">Compilations & Singles</h2>
                <div id="compilations-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6"></div>
            </div>
            
            <!-- Timelines Section -->
            <div id="timelines" class="tab-content animate-fade-in">
                 <div class="flex justify-between items-center mb-6">
                    <h2 class="text-3xl font-bold text-black">Complete Song Timeline</h2>
                    <div class="flex space-x-2">
                        <button id="copy-timeline-btn" class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-lg text-sm inline-flex items-center">
                            <i class="fas fa-copy mr-2"></i>
                            Copy Table
                        </button>
                        <button id="download-timeline-csv-btn" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg text-sm inline-flex items-center">
                            <i class="fas fa-download mr-2"></i>
                            Download CSV
                        </button>
                    </div>
                </div>
                <div class="bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden">
                    <div class="overflow-x-auto max-h-[70vh]">
                        <table class="w-full text-sm text-left text-gray-600">
                            <thead class="text-xs text-gray-700 uppercase bg-gray-50 sticky top-0" id="timeline-table-head">
                                <tr>
                                    <th scope="col" class="px-6 py-3" data-sort="title">Song <span class="sort-icon"></span></th>
                                    <th scope="col" class="px-6 py-3" data-sort="albumTitle">Album <span class="sort-icon"></span></th>
                                    <th scope="col" class="px-6 py-3" data-sort="recordDate">Recording Date <span class="sort-icon"></span></th>
                                    <th scope="col" class="px-6 py-3" data-sort="releaseDate">Release Date <span class="sort-icon"></span></th>
                                </tr>
                            </thead>
                            <tbody id="timeline-table-body" class="divide-y divide-gray-200"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Song Ranking Section -->
            <div id="song-ranking" class="tab-content animate-fade-in">
                <!-- Sub-tabs navigation -->
                <div class="border-b border-gray-200">
                    <nav class="-mb-px flex space-x-6" aria-label="Ranking Sub-tabs">
                        <button class="ranking-sub-tab-button active shrink-0 border-b-2 border-blue-500 text-blue-600 px-1 pb-4 text-sm font-medium" data-subtab="rate-songs-sub-tab">Rate The Songs</button>
                        <button class="ranking-sub-tab-button shrink-0 border-b-2 border-transparent px-1 pb-4 text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700" data-subtab="song-battleground-sub-tab">Battleground</button>
                        <button class="ranking-sub-tab-button shrink-0 border-b-2 border-transparent px-1 pb-4 text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700" data-subtab="song-ranking-sub-tab">Song Ranking</button>
                        <button class="ranking-sub-tab-button shrink-0 border-b-2 border-transparent px-1 pb-4 text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700" data-subtab="album-ranking-sub-tab">Album Ranking</button>
                    </nav>
                </div>

                <!-- Rate The Songs Sub-Tab Content -->
                <div id="rate-songs-sub-tab" class="ranking-sub-tab-content active mt-6">
                    <h2 class="text-3xl font-bold text-black mb-4">Rate The Songs</h2>
                    <div class="bg-gray-50 border border-gray-200 p-6 rounded-lg shadow-sm">
                        <label for="album-select" class="block mb-2 text-sm font-medium text-gray-700">Choose an album:</label>
                        <select id="album-select" class="bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"><option selected>Select to see songs...</option></select>
                    </div>
                    <div id="rating-interaction-area" class="mt-6 hidden">
                        <div class="border border-gray-200 rounded-lg shadow-sm overflow-hidden"><div class="overflow-x-auto max-h-[60vh]"><table class="w-full text-sm"><tbody id="song-list-for-rating-body" class="divide-y divide-gray-200"></tbody></table></div></div>
                        <button id="save-ratings-btn" class="mt-4 w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg transition-colors duration-200 disabled:bg-gray-400">Save Ratings</button>
                    </div>
                    <div id="rating-prompt" class="mt-6 p-6 text-center text-gray-500 border border-dashed rounded-lg">Select an album to start rating.</div>
                </div>
                
                 <!-- Song Battleground Sub-Tab Content -->
                <div id="song-battleground-sub-tab" class="ranking-sub-tab-content mt-6">
                    <div id="battle-setup-view">
                        <h2 class="text-3xl font-bold text-black mb-4">Prepare for Battle</h2>
                        <p class="text-gray-600 mb-6">Select songs to enter the battleground. Each selected song will face off against every other selected song in a one-on-one duel.</p>
                        <div class="bg-gray-50 border border-gray-200 p-6 rounded-lg shadow-sm mb-6"><label for="battle-album-select" class="block mb-2 text-sm font-medium text-gray-700">Filter songs by album:</label><select id="battle-album-select" class="bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"><option selected>Select an album...</option></select></div>
                        <div class="border border-gray-200 rounded-lg shadow-sm overflow-hidden">
                            <div class="overflow-x-auto max-h-[50vh]">
                                <table class="w-full text-sm text-left text-gray-600"><thead class="text-xs text-gray-700 uppercase bg-gray-50 sticky top-0"><tr><th scope="col" class="p-4"><input type="checkbox" id="select-all-battle-songs"></th><th scope="col" class="px-6 py-3">Song</th><th scope="col" class="px-6 py-3">Album</th></tr></thead><tbody id="battle-selection-body" class="divide-y divide-gray-200"><tr><td colspan="3" class="p-6 text-center">Select an album to see songs.</td></tr></tbody></table>
                            </div>
                        </div>
                        <button id="start-battle-btn" class="mt-6 w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded-lg transition-colors duration-200 disabled:bg-gray-400">Start Battleground (<span id="selected-songs-count">0</span> songs)</button>
                    </div>
                    <div id="battle-active-view" class="hidden">
                        <h2 class="text-3xl font-bold text-black mb-2 text-center">Choose Your Winner</h2>
                        <p class="text-center text-gray-600 mb-6">Battle <span id="current-battle-number">1</span> of <span id="total-battle-number">X</span></p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 items-center">
                            <div id="song-a-card" class="battle-card cursor-pointer p-6 bg-white border-2 border-gray-300 rounded-lg shadow-md text-center"></div><div class="text-center text-2xl font-bold text-gray-400">VS</div><div id="song-b-card" class="battle-card cursor-pointer p-6 bg-white border-2 border-gray-300 rounded-lg shadow-md text-center"></div>
                        </div>
                    </div>
                    <div id="battle-results-view" class="hidden">
                        <h2 class="text-3xl font-bold text-black mb-4">Battle Results</h2>
                        <div class="bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden"><div class="overflow-x-auto"><table class="w-full text-sm text-left text-gray-600"><thead class="text-xs text-gray-700 uppercase bg-gray-50"><tr><th class="px-6 py-3">Rank</th><th class="px-6 py-3">Song</th><th class="px-6 py-3">Wins</th><th class="px-6 py-3">Losses</th><th class="px-6 py-3">Win %</th></tr></thead><tbody id="battle-results-body"></tbody></table></div></div>
                        <button id="new-battle-btn" class="mt-6 w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg">Start a New Battle</button>
                    </div>
                </div>

                <!-- Song Ranking Sub-Tab Content -->
                <div id="song-ranking-sub-tab" class="ranking-sub-tab-content mt-6">
                    <div class="sm:flex sm:items-center sm:justify-between mb-6">
                        <h2 class="text-3xl font-bold text-black">Song Ranking</h2>
                        <div class="flex items-center space-x-4 mt-4 sm:mt-0">
                            <div class="w-64"><label for="song-ranking-filter" class="sr-only">Filter by album:</label><select id="song-ranking-filter" class="bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"></select></div>
                            <button id="download-csv-btn" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg text-sm inline-flex items-center"><i class="fas fa-download mr-2"></i>Download CSV</button>
                        </div>
                    </div>
                    <div class="flex justify-center p-1 bg-gray-200 rounded-lg mb-4" id="song-ranking-mode-selector"><button data-mode="rating" class="ranking-mode-btn active w-full py-2 px-4 text-sm font-medium rounded-md">Rating</button><button data-mode="battleground" class="ranking-mode-btn w-full py-2 px-4 text-sm font-medium rounded-md">Battleground</button><button data-mode="overall" class="ranking-mode-btn w-full py-2 px-4 text-sm font-medium rounded-md">Overall</button></div>
                    <div id="song-ranking-tables-container"></div>
                </div>

                <!-- Album Ranking Sub-Tab Content -->
                <div id="album-ranking-sub-tab" class="ranking-sub-tab-content mt-6">
                     <div class="flex justify-between items-center mb-6">
                        <h2 class="text-3xl font-bold text-black">Album Ranking</h2>
                        <button id="download-album-csv-btn" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg text-sm inline-flex items-center"><i class="fas fa-download mr-2"></i>Download CSV</button>
                    </div>
                    <div class="flex justify-center p-1 bg-gray-200 rounded-lg mb-4" id="album-ranking-mode-selector"><button data-mode="rating" class="ranking-mode-btn active w-full py-2 px-4 text-sm font-medium rounded-md">Rating</button><button data-mode="battleground" class="ranking-mode-btn w-full py-2 px-4 text-sm font-medium rounded-md">Battleground</button><button data-mode="overall" class="ranking-mode-btn w-full py-2 px-4 text-sm font-medium rounded-md">Overall</button></div>
                     <div id="album-ranking-tables-container"></div>
                </div>
                 <div class="mt-12 p-6 border-t border-dashed">
                    <h3 class="text-xl font-semibold text-red-600 mb-2">Danger Zone</h3>
                    <p class="text-sm text-gray-600 mb-4">This will permanently delete all star ratings and battleground results from the database. This action cannot be undone.</p>
                    <button id="reset-db-btn" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg">Reset All Rankings & Battles</button>
                </div>
            </div>

        </main>
    </div>

    <!-- Modals -->
    <div id="album-modal" class="modal"><div id="modal-content-host" class="modal-content max-w-3xl bg-white rounded-lg shadow-xl animate-fade-in"></div></div>
    <div id="reset-confirm-modal" class="modal"><div class="modal-content max-w-md bg-white rounded-lg shadow-xl animate-fade-in"><div class="p-6 text-center"><i class="fas fa-exclamation-triangle text-5xl text-red-500 mb-4"></i><h3 class="mb-2 text-2xl font-bold text-gray-800">Are you sure?</h3><p class="text-gray-600 mb-6">This action will delete all data. To confirm, type "DELETE" below.</p><input type="text" id="reset-confirm-input" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 mb-4" placeholder="DELETE"><div class="flex justify-center gap-4"><button id="cancel-reset-btn" class="py-2 px-6 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300">Cancel</button><button id="confirm-reset-btn" class="py-2 px-6 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:bg-red-300" disabled>Confirm Deletion</button></div></div></div></div>
    
    <!-- Firebase -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, doc, onSnapshot, query, runTransaction, getDocs, writeBatch } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
    
        // --- DATA ---
        const beatlesData = [
            // Studio Albums
            {
                type: 'studio', title: "Please Please Me", year: 1963,
                cover: "https://www.thebeatles.com/sites/default/files/styles/max_2600x2600/public/2021-06/Please%20Please%20Me.jpg",
                released: "22 March 1963", recorded: "11 September 1962 – 20 February 1963", studio: "EMI Studios, London", genre: "Rock and roll, beat, pop", length: "32:16", label: "Parlophone", producer: "George Martin",
                songs: [
                    { title: "I Saw Her Standing There", duration: "2:55", authors: "McCartney-Lennon", recordDate: "1963-02-11", releaseDate: "1963-03-22" }, { title: "Misery", duration: "1:49", authors: "Lennon-McCartney", recordDate: "1963-02-11", releaseDate: "1963-03-22" }, { title: "Anna (Go to Him)", duration: "2:57", authors: "Arthur Alexander", recordDate: "1963-02-11", releaseDate: "1963-03-22" }, { title: "Chains", duration: "2:26", authors: "Goffin-King", recordDate: "1963-02-11", releaseDate: "1963-03-22" }, { title: "Boys", duration: "2:27", authors: "Dixon-Farrell", recordDate: "1963-02-11", releaseDate: "1963-03-22" }, { title: "Ask Me Why", duration: "2:26", authors: "Lennon-McCartney", recordDate: "1962-11-26", releaseDate: "1963-03-22" }, { title: "Please Please Me", duration: "2:03", authors: "Lennon-McCartney", recordDate: "1962-11-26", releaseDate: "1963-03-22" }, { title: "Love Me Do", duration: "2:21", authors: "Lennon-McCartney", recordDate: "1962-09-11", releaseDate: "1962-10-05" }, { title: "P.S. I Love You", duration: "2:04", authors: "Lennon-McCartney", recordDate: "1962-09-11", releaseDate: "1962-10-05" }, { title: "Baby It's You", duration: "2:40", authors: "David-Bacharach-Williams", recordDate: "1963-02-11", releaseDate: "1963-03-22" }, { title: "Do You Want to Know a Secret", duration: "1:59", authors: "Lennon-McCartney", recordDate: "1963-02-11", releaseDate: "1963-03-22" }, { title: "A Taste of Honey", duration: "2:03", authors: "Scott-Marlow", recordDate: "1963-02-11", releaseDate: "1963-03-22" }, { title: "There's a Place", duration: "1:51", authors: "Lennon-McCartney", recordDate: "1963-02-11", releaseDate: "1963-03-22" }, { title: "Twist and Shout", duration: "2:37", authors: "Medley-Russell", recordDate: "1963-02-11", releaseDate: "1963-03-22" }
                ]
            },
            {
                type: 'studio', title: "With The Beatles", year: 1963,
                cover: "https://www.thebeatles.com/sites/default/files/styles/responsive_thumbnail_mobile/public/2021-06/With%20the%20Beatles.jpg",
                released: "22 November 1963", recorded: "18 July – 23 October 1963", studio: "EMI Studios, London", genre: "Rock and roll, pop, R&B", length: "33:09", label: "Parlophone", producer: "George Martin",
                songs: [
                    { title: "It Won't Be Long", duration: "2:13", authors: "Lennon-McCartney", recordDate: "1963-07-30", releaseDate: "1963-11-22" }, { title: "All I've Got to Do", duration: "2:03", authors: "Lennon-McCartney", recordDate: "1963-09-11", releaseDate: "1963-11-22" }, { title: "All My Loving", duration: "2:08", authors: "Lennon-McCartney", recordDate: "1963-07-30", releaseDate: "1963-11-22" }, { title: "Don't Bother Me", duration: "2:28", authors: "Harrison", recordDate: "1963-09-12", releaseDate: "1963-11-22" }, { title: "Little Child", duration: "1:46", authors: "Lennon-McCartney", recordDate: "1963-09-12", releaseDate: "1963-11-22" }, { title: "Till There Was You", duration: "2:14", authors: "Meredith Willson", recordDate: "1963-07-30", releaseDate: "1963-11-22" }, { title: "Please Mister Postman", duration: "2:34", authors: "Dobbins-Garrett-Gorman-Holland-Bateman", recordDate: "1963-07-30", releaseDate: "1963-11-22" }, { title: "Roll Over Beethoven", duration: "2:45", authors: "Chuck Berry", recordDate: "1963-07-30", releaseDate: "1963-11-22" }, { title: "Hold Me Tight", duration: "2:32", authors: "Lennon-McCartney", recordDate: "1963-09-12", releaseDate: "1963-11-22" }, { title: "You Really Got a Hold on Me", duration: "3:01", authors: "Smokey Robinson", recordDate: "1963-07-18", releaseDate: "1963-11-22" }, { title: "I Wanna Be Your Man", duration: "1:59", authors: "Lennon-McCartney", recordDate: "1963-09-12", releaseDate: "1963-11-22" }, { title: "Devil in Her Heart", duration: "2:26", authors: "Drapkin", recordDate: "1963-07-18", releaseDate: "1963-11-22" }, { title: "Not a Second Time", duration: "2:07", authors: "Lennon-McCartney", recordDate: "1963-09-11", releaseDate: "1963-11-22" }, { title: "Money (That's What I Want)", duration: "2:49", authors: "Bradford-Gordy", recordDate: "1963-07-18", releaseDate: "1963-11-22" }
                ]
            },
            {
                type: 'studio', title: "A Hard Day's Night", year: 1964,
                cover: "https://www.thebeatles.com/sites/default/files/styles/responsive_thumbnail_mobile/public/2021-06/A%20Hard%20Days%20Night.jpg",
                released: "10 July 1964", recorded: "29 January – 2 June 1964", studio: "EMI and Pathé Marconi Studios, London/Paris", genre: "Pop rock, beat", length: "30:11", label: "Parlophone", producer: "George Martin",
                songs: [
                    { title: "A Hard Day's Night", duration: "2:34", authors: "Lennon-McCartney", recordDate: "1964-04-16", releaseDate: "1964-07-10" }, { title: "I Should Have Known Better", duration: "2:43", authors: "Lennon-McCartney", recordDate: "1964-02-25", releaseDate: "1964-07-10" }, { title: "If I Fell", duration: "2:19", authors: "Lennon-McCartney", recordDate: "1964-02-27", releaseDate: "1964-07-10" }, { title: "I'm Happy Just to Dance with You", duration: "1:56", authors: "Lennon-McCartney", recordDate: "1964-03-01", releaseDate: "1964-07-10" }, { title: "And I Love Her", duration: "2:30", authors: "Lennon-McCartney", recordDate: "1964-02-27", releaseDate: "1964-07-10" }, { title: "Tell Me Why", duration: "2:09", authors: "Lennon-McCartney", recordDate: "1964-02-27", releaseDate: "1964-07-10" }, { title: "Can't Buy Me Love", duration: "2:12", authors: "Lennon-McCartney", recordDate: "1964-01-29", releaseDate: "1964-03-20" }, { title: "Any Time at All", duration: "2:11", authors: "Lennon-McCartney", recordDate: "1964-06-02", releaseDate: "1964-07-10" }, { title: "I'll Cry Instead", duration: "1:46", authors: "Lennon-McCartney", recordDate: "1964-06-01", releaseDate: "1964-07-10" }, { title: "Things We Said Today", duration: "2:35", authors: "Lennon-McCartney", recordDate: "1964-06-02", releaseDate: "1964-07-10" }, { title: "When I Get Home", duration: "2:17", authors: "Lennon-McCartney", recordDate: "1964-06-02", releaseDate: "1964-07-10" }, { title: "You Can't Do That", duration: "2:35", authors: "Lennon-McCartney", recordDate: "1964-02-25", releaseDate: "1964-03-20" }, { title: "I'll Be Back", duration: "2:24", authors: "Lennon-McCartney", recordDate: "1964-06-01", releaseDate: "1964-07-10" }
                ]
            },
            {
                type: 'studio', title: "Beatles for Sale", year: 1964,
                cover: "https://www.thebeatles.com/sites/default/files/styles/responsive_thumbnail_mobile/public/2021-06/The%20Beatles%20for%20Sale.jpg",
                released: "4 December 1964", recorded: "11 August – 26 October 1964", studio: "EMI Studios, London", genre: "Folk rock, rock and roll, pop", length: "33:23", label: "Parlophone", producer: "George Martin",
                songs: [
                    { title: "No Reply", duration: "2:15", authors: "Lennon-McCartney", recordDate: "1964-09-30", releaseDate: "1964-12-04" }, { title: "I'm a Loser", duration: "2:30", authors: "Lennon-McCartney", recordDate: "1964-08-14", releaseDate: "1964-12-04" }, { title: "Baby's in Black", duration: "2:04", authors: "Lennon-McCartney", recordDate: "1964-08-11", releaseDate: "1964-12-04" }, { title: "Rock and Roll Music", duration: "2:31", authors: "Chuck Berry", recordDate: "1964-10-18", releaseDate: "1964-12-04" }, { title: "I'll Follow the Sun", duration: "1:49", authors: "Lennon-McCartney", recordDate: "1964-10-18", releaseDate: "1964-12-04" }, { title: "Mr. Moonlight", duration: "2:38", authors: "Johnson", recordDate: "1964-10-18", releaseDate: "1964-12-04" }, { title: "Kansas City/Hey-Hey-Hey-Hey!", duration: "2:38", authors: "Leiber-Stoller/Penniman", recordDate: "1964-10-18", releaseDate: "1964-12-04" }, { title: "Eight Days a Week", duration: "2:44", authors: "Lennon-McCartney", recordDate: "1964-10-06", releaseDate: "1965-02-15" }, { title: "Words of Love", duration: "2:04", authors: "Buddy Holly", recordDate: "1964-10-18", releaseDate: "1964-12-04" }, { title: "Honey Don't", duration: "2:57", authors: "Carl Perkins", recordDate: "1964-10-26", releaseDate: "1964-12-04" }, { title: "Every Little Thing", duration: "2:04", authors: "Lennon-McCartney", recordDate: "1964-09-30", releaseDate: "1964-12-04" }, { title: "I Don't Want to Spoil the Party", duration: "2:33", authors: "Lennon-McCartney", recordDate: "1964-09-29", releaseDate: "1964-12-04" }, { title: "What You're Doing", duration: "2:30", authors: "Lennon-McCartney", recordDate: "1964-10-26", releaseDate: "1964-12-04" }, { title: "Everybody's Trying to Be My Baby", duration: "2:23", authors: "Carl Perkins", recordDate: "1964-10-18", releaseDate: "1964-12-04" }
                ]
            },
            {
                type: 'studio', title: "Help!", year: 1965,
                cover: "https://www.thebeatles.com/sites/default/files/styles/responsive_thumbnail_mobile/public/2021-06/Help.jpg",
                released: "6 August 1965", recorded: "15 February – 17 June 1965", studio: "EMI and CTS Studios, London", genre: "Folk rock, pop rock", length: "33:38", label: "Parlophone", producer: "George Martin",
                songs: [
                    { title: "Help!", duration: "2:18", authors: "Lennon-McCartney", recordDate: "1965-04-13", releaseDate: "1965-07-23" }, { title: "The Night Before", duration: "2:33", authors: "Lennon-McCartney", recordDate: "1965-02-17", releaseDate: "1965-08-06" }, { title: "You've Got to Hide Your Love Away", duration: "2:08", authors: "Lennon-McCartney", recordDate: "1965-02-18", releaseDate: "1965-08-06" }, { title: "I Need You", duration: "2:28", authors: "Harrison", recordDate: "1965-02-15", releaseDate: "1965-08-06" }, { title: "Another Girl", duration: "2:05", authors: "Lennon-McCartney", recordDate: "1965-02-15", releaseDate: "1965-08-06" }, { title: "You're Going to Lose That Girl", duration: "2:17", authors: "Lennon-McCartney", recordDate: "1965-02-19", releaseDate: "1965-08-06" }, { title: "Ticket to Ride", duration: "3:10", authors: "Lennon-McCartney", recordDate: "1965-02-15", releaseDate: "1965-04-09" }, { title: "Act Naturally", duration: "2:30", authors: "Morrison-Russell", recordDate: "1965-06-17", releaseDate: "1965-08-06" }, { title: "It's Only Love", duration: "1:56", authors: "Lennon-McCartney", recordDate: "1965-06-15", releaseDate: "1965-08-06" }, { title: "You Like Me Too Much", duration: "2:36", authors: "Harrison", recordDate: "1965-02-17", releaseDate: "1965-08-06" }, { title: "Tell Me What You See", duration: "2:37", authors: "Lennon-McCartney", recordDate: "1965-02-18", releaseDate: "1965-08-06" }, { title: "I've Just Seen a Face", duration: "2:07", authors: "Lennon-McCartney", recordDate: "1965-06-14", releaseDate: "1965-08-06" }, { title: "Yesterday", duration: "2:03", authors: "Lennon-McCartney", recordDate: "1965-06-14", releaseDate: "1965-08-06" }, { title: "Dizzy Miss Lizzy", duration: "2:53", authors: "Larry Williams", recordDate: "1965-05-10", releaseDate: "1965-08-06" }
                ]
            },
            {
                type: 'studio', title: "Rubber Soul", year: 1965,
                cover: "https://www.thebeatles.com/sites/default/files/styles/responsive_thumbnail_mobile/public/2021-06/Rubber%20Soul.jpg",
                released: "3 December 1965", recorded: "12 October – 15 November 1965", studio: "EMI Studios, London", genre: "Folk rock, pop", length: "34:50", label: "Parlophone", producer: "George Martin",
                songs: [
                    { title: "Drive My Car", duration: "2:25", authors: "Lennon-McCartney", recordDate: "1965-10-13", releaseDate: "1965-12-03" }, { title: "Norwegian Wood (This Bird Has Flown)", duration: "2:05", authors: "Lennon-McCartney", recordDate: "1965-10-21", releaseDate: "1965-12-03" }, { title: "You Won't See Me", duration: "3:22", authors: "Lennon-McCartney", recordDate: "1965-11-11", releaseDate: "1965-12-03" }, { title: "Nowhere Man", duration: "2:44", authors: "Lennon-McCartney", recordDate: "1965-10-22", releaseDate: "1965-12-03" }, { title: "Think for Yourself", duration: "2:18", authors: "Harrison", recordDate: "1965-11-08", releaseDate: "1965-12-03" }, { title: "The Word", duration: "2:43", authors: "Lennon-McCartney", recordDate: "1965-11-10", releaseDate: "1965-12-03" }, { title: "Michelle", duration: "2:42", authors: "Lennon-McCartney", recordDate: "1965-11-03", releaseDate: "1965-12-03" }, { title: "What Goes On", duration: "2:50", authors: "Lennon-McCartney-Starkey", recordDate: "1965-11-04", releaseDate: "1965-12-03" }, { title: "Girl", duration: "2:33", authors: "Lennon-McCartney", recordDate: "1965-11-11", releaseDate: "1965-12-03" }, { title: "I'm Looking Through You", duration: "2:27", authors: "Lennon-McCartney", recordDate: "1965-11-10", releaseDate: "1965-12-03" }, { title: "In My Life", duration: "2:28", authors: "Lennon-McCartney", recordDate: "1965-10-18", releaseDate: "1965-12-03" }, { title: "Wait", duration: "2:16", authors: "Lennon-McCartney", recordDate: "1965-06-17", releaseDate: "1965-12-03" }, { title: "If I Needed Someone", duration: "2:23", authors: "Harrison", recordDate: "1965-10-16", releaseDate: "1965-12-03" }, { title: "Run for Your Life", duration: "2:18", authors: "Lennon-McCartney", recordDate: "1965-10-12", releaseDate: "1965-12-03" }
                ]
            },
            {
                type: 'studio', title: "Revolver", year: 1966,
                cover: "https://www.thebeatles.com/sites/default/files/styles/responsive_thumbnail_mobile/public/2021-06/Revolver.jpg",
                released: "5 August 1966", recorded: "6 April – 21 June 1966", studio: "EMI Studios, London", genre: "Psychedelic rock, pop", length: "34:43", label: "Parlophone", producer: "George Martin",
                songs: [
                    { title: "Taxman", duration: "2:39", authors: "Harrison", recordDate: "1966-04-21", releaseDate: "1966-08-05" }, { title: "Eleanor Rigby", duration: "2:07", authors: "Lennon-McCartney", recordDate: "1966-04-28", releaseDate: "1966-08-05" }, { title: "I'm Only Sleeping", duration: "3:00", authors: "Lennon-McCartney", recordDate: "1966-04-27", releaseDate: "1966-08-05" }, { title: "Love You To", duration: "3:01", authors: "Harrison", recordDate: "1966-04-11", releaseDate: "1966-08-05" }, { title: "Here, There and Everywhere", duration: "2:25", authors: "Lennon-McCartney", recordDate: "1966-06-14", releaseDate: "1966-08-05" }, { title: "Yellow Submarine", duration: "2:40", authors: "Lennon-McCartney", recordDate: "1966-05-26", releaseDate: "1966-08-05" }, { title: "She Said She Said", duration: "2:37", authors: "Lennon-McCartney", recordDate: "1966-06-21", releaseDate: "1966-08-05" }, { title: "Good Day Sunshine", duration: "2:09", authors: "Lennon-McCartney", recordDate: "1966-06-08", releaseDate: "1966-08-05" }, { title: "And Your Bird Can Sing", duration: "2:01", authors: "Lennon-McCartney", recordDate: "1966-04-26", releaseDate: "1966-08-05" }, { title: "For No One", duration: "2:01", authors: "Lennon-McCartney", recordDate: "1966-05-09", releaseDate: "1966-08-05" }, { title: "Doctor Robert", duration: "2:15", authors: "Lennon-McCartney", recordDate: "1966-04-17", releaseDate: "1966-08-05" }, { title: "I Want to Tell You", duration: "2:29", authors: "Harrison", recordDate: "1966-06-02", releaseDate: "1966-08-05" }, { title: "Got to Get You into My Life", duration: "2:30", authors: "Lennon-McCartney", recordDate: "1966-04-08", releaseDate: "1966-08-05" }, { title: "Tomorrow Never Knows", duration: "2:57", authors: "Lennon-McCartney", recordDate: "1966-04-06", releaseDate: "1966-08-05" }
                ]
            },
            {
                type: 'studio', title: "Sgt. Pepper's Lonely Hearts Club Band", year: 1967,
                cover: "https://www.thebeatles.com/sites/default/files/styles/responsive_thumbnail_mobile/public/2021-06/Sgt%20Pepper.jpg",
                released: "26 May 1967", recorded: "6 December 1966 – 21 April 1967", studio: "EMI and Regent Sound, London", genre: "Rock, pop, psychedelia, art rock", length: "39:36", label: "Parlophone, Capitol", producer: "George Martin",
                songs: [
                    { title: "Sgt. Pepper's Lonely Hearts Club Band", duration: "2:02", authors: "Lennon-McCartney", recordDate: "1967-02-01", releaseDate: "1967-05-26" }, { title: "With a Little Help from My Friends", duration: "2:44", authors: "Lennon-McCartney", recordDate: "1967-03-29", releaseDate: "1967-05-26" }, { title: "Lucy in the Sky with Diamonds", duration: "3:28", authors: "Lennon-McCartney", recordDate: "1967-03-01", releaseDate: "1967-05-26" }, { title: "Getting Better", duration: "2:48", authors: "Lennon-McCartney", recordDate: "1967-03-09", releaseDate: "1967-05-26" }, { title: "Fixing a Hole", duration: "2:36", authors: "Lennon-McCartney", recordDate: "1967-02-09", releaseDate: "1967-05-26" }, { title: "She's Leaving Home", duration: "3:35", authors: "Lennon-McCartney", recordDate: "1967-03-17", releaseDate: "1967-05-26" }, { title: "Being for the Benefit of Mr. Kite!", duration: "2:37", authors: "Lennon-McCartney", recordDate: "1967-02-17", releaseDate: "1967-05-26" }, { title: "Within You Without You", duration: "5:04", authors: "Harrison", recordDate: "1967-03-15", releaseDate: "1967-05-26" }, { title: "When I'm Sixty-Four", duration: "2:37", authors: "Lennon-McCartney", recordDate: "1966-12-06", releaseDate: "1967-05-26" }, { title: "Lovely Rita", duration: "2:42", authors: "Lennon-McCartney", recordDate: "1967-02-23", releaseDate: "1967-05-26" }, { title: "Good Morning Good Morning", duration: "2:41", authors: "Lennon-McCartney", recordDate: "1967-02-08", releaseDate: "1967-05-26" }, { title: "Sgt. Pepper's Lonely Hearts Club Band (Reprise)", duration: "1:18", authors: "Lennon-McCartney", recordDate: "1967-04-01", releaseDate: "1967-05-26" }, { title: "A Day in the Life", duration: "5:39", authors: "Lennon-McCartney", recordDate: "1967-01-19", releaseDate: "1967-05-26" }
                ]
            },
            {
                type: 'studio', title: "Magical Mystery Tour", year: 1967,
                cover: "https://www.thebeatles.com/sites/default/files/styles/responsive_thumbnail_mobile/public/2021-06/Magical-Mystery-Tour.jpg",
                released: "27 November 1967 (US)", recorded: "25 April – 7 November 1967", studio: "EMI, Regent Sound, De Lane Lea, London", genre: "Psychedelic rock, pop", length: "36:35", label: "Parlophone, Capitol", producer: "George Martin",
                songs: [
                    { title: "Magical Mystery Tour", duration: "2:51", authors: "Lennon-McCartney", recordDate: "1967-04-25", releaseDate: "1967-11-27" }, { title: "The Fool on the Hill", duration: "3:00", authors: "Lennon-McCartney", recordDate: "1967-09-25", releaseDate: "1967-11-27" }, { title: "Flying", duration: "2:16", authors: "Harrison-Lennon-McCartney-Starkey", recordDate: "1967-09-08", releaseDate: "1967-11-27" }, { title: "Blue Jay Way", duration: "3:56", authors: "Harrison", recordDate: "1967-09-06", releaseDate: "1967-11-27" }, { title: "Your Mother Should Know", duration: "2:29", authors: "Lennon-McCartney", recordDate: "1967-08-22", releaseDate: "1967-11-27" }, { title: "I Am the Walrus", duration: "4:37", authors: "Lennon-McCartney", recordDate: "1967-09-05", releaseDate: "1967-11-24" }, { title: "Hello, Goodbye", duration: "3:31", authors: "Lennon-McCartney", recordDate: "1967-10-02", releaseDate: "1967-11-24" }, { title: "Strawberry Fields Forever", duration: "4:10", authors: "Lennon-McCartney", recordDate: "1966-11-24", releaseDate: "1967-02-13" }, { title: "Penny Lane", duration: "3:03", authors: "Lennon-McCartney", recordDate: "1966-12-29", releaseDate: "1967-02-13" }, { title: "Baby, You're a Rich Man", duration: "3:03", authors: "Lennon-McCartney", recordDate: "1967-05-11", releaseDate: "1967-07-07" }, { title: "All You Need Is Love", duration: "3:48", authors: "Lennon-McCartney", recordDate: "1967-06-14", releaseDate: "1967-07-07" }
                ]
            },
            {
                type: 'studio', title: "The Beatles (The White Album)", year: 1968,
                cover: "https://www.thebeatles.com/sites/default/files/styles/responsive_thumbnail_mobile/public/2021-06/WA_Press_26.jpg",
                released: "22 November 1968", recorded: "30 May – 14 October 1968", studio: "EMI and Trident Studios, London", genre: "Rock, pop, avant-garde", length: "93:35", label: "Apple", producer: "George Martin",
                songs: [
                    { title: "Back in the U.S.S.R.", duration: "2:43", authors: "Lennon-McCartney", recordDate: "1968-08-22", releaseDate: "1968-11-22" }, { title: "Dear Prudence", duration: "3:56", authors: "Lennon-McCartney", recordDate: "1968-08-28", releaseDate: "1968-11-22" }, { title: "Glass Onion", duration: "2:17", authors: "Lennon-McCartney", recordDate: "1968-09-11", releaseDate: "1968-11-22" }, { title: "Ob-La-Di, Ob-La-Da", duration: "3:08", authors: "Lennon-McCartney", recordDate: "1968-07-03", releaseDate: "1968-11-22" }, { title: "Wild Honey Pie", duration: "0:52", authors: "Lennon-McCartney", recordDate: "1968-08-20", releaseDate: "1968-11-22" }, { title: "The Continuing Story of Bungalow Bill", duration: "3:14", authors: "Lennon-McCartney", recordDate: "1968-10-08", releaseDate: "1968-11-22" }, { title: "While My Guitar Gently Weeps", duration: "4:45", authors: "Harrison", recordDate: "1968-08-16", releaseDate: "1968-11-22" }, { title: "Happiness Is a Warm Gun", duration: "2:43", authors: "Lennon-McCartney", recordDate: "1968-09-23", releaseDate: "1968-11-22" }, { title: "Martha My Dear", duration: "2:28", authors: "Lennon-McCartney", recordDate: "1968-10-04", releaseDate: "1968-11-22" }, { title: "I'm So Tired", duration: "2:03", authors: "Lennon-McCartney", recordDate: "1968-10-08", releaseDate: "1968-11-22" }, { title: "Blackbird", duration: "2:18", authors: "Lennon-McCartney", recordDate: "1968-06-11", releaseDate: "1968-11-22" }, { title: "Piggies", duration: "2:04", authors: "Harrison", recordDate: "1968-09-19", releaseDate: "1968-11-22" }, { title: "Rocky Raccoon", duration: "3:33", authors: "Lennon-McCartney", recordDate: "1968-08-15", releaseDate: "1968-11-22" }, { title: "Don't Pass Me By", duration: "3:51", authors: "Starkey", recordDate: "1968-07-12", releaseDate: "1968-11-22" }, { title: "Why Don't We Do It in the Road?", duration: "1:41", authors: "Lennon-McCartney", recordDate: "1968-10-09", releaseDate: "1968-11-22" }, { title: "I Will", duration: "1:46", authors: "Lennon-McCartney", recordDate: "1968-09-16", releaseDate: "1968-11-22" }, { title: "Julia", duration: "2:54", authors: "Lennon-McCartney", recordDate: "1968-10-13", releaseDate: "1968-11-22" }, { title: "Birthday", duration: "2:42", authors: "Lennon-McCartney", recordDate: "1968-09-18", releaseDate: "1968-11-22" }, { title: "Yer Blues", duration: "4:01", authors: "Lennon-McCartney", recordDate: "1968-08-13", releaseDate: "1968-11-22" }, { title: "Mother Nature's Son", duration: "2:48", authors: "Lennon-McCartney", recordDate: "1968-08-09", releaseDate: "1968-11-22" }, { title: "Everybody's Got Something to Hide Except Me and My Monkey", duration: "2:24", authors: "Lennon-McCartney", recordDate: "1968-07-23", releaseDate: "1968-11-22" }, { title: "Sexy Sadie", duration: "3:15", authors: "Lennon-McCartney", recordDate: "1968-08-13", releaseDate: "1968-11-22" }, { title: "Helter Skelter", duration: "4:29", authors: "Lennon-McCartney", recordDate: "1968-09-09", releaseDate: "1968-11-22" }, { title: "Long, Long, Long", duration: "3:04", authors: "Harrison", recordDate: "1968-10-07", releaseDate: "1968-11-22" }, { title: "Revolution 1", duration: "4:15", authors: "Lennon-McCartney", recordDate: "1968-05-30", releaseDate: "1968-11-22" }, { title: "Honey Pie", duration: "2:41", authors: "Lennon-McCartney", recordDate: "1968-10-01", releaseDate: "1968-11-22" }, { title: "Savoy Truffle", duration: "2:54", authors: "Harrison", recordDate: "1968-10-03", releaseDate: "1968-11-22" }, { title: "Cry Baby Cry", duration: "3:02", authors: "Lennon-McCartney", recordDate: "1968-07-16", releaseDate: "1968-11-22" }, { title: "Revolution 9", duration: "8:22", authors: "Lennon-McCartney", recordDate: "1968-06-20", releaseDate: "1968-11-22" }, { title: "Good Night", duration: "3:11", authors: "Lennon-McCartney", recordDate: "1968-07-22", releaseDate: "1968-11-22" }
                ]
            },
            {
                type: 'studio', title: "Yellow Submarine", year: 1969,
                cover: "https://www.thebeatles.com/sites/default/files/styles/responsive_thumbnail_mobile/public/2021-06/Yellow%20Sub.jpg",
                released: "13 January 1969", recorded: "26 May 1966 – 11 February 1968", studio: "EMI, Olympic and De Lane Lea, London", genre: "Soundtrack, psychedelic rock", length: "40:12", label: "Apple", producer: "George Martin",
                songs: [
                    { title: "Yellow Submarine", duration: "2:38", authors: "Lennon-McCartney", recordDate: "1966-05-26", releaseDate: "1966-08-05" }, { title: "Only a Northern Song", duration: "3:27", authors: "Harrison", recordDate: "1967-04-20", releaseDate: "1969-01-13" }, { title: "All Together Now", duration: "2:10", authors: "Lennon-McCartney", recordDate: "1967-05-12", releaseDate: "1969-01-13" }, { title: "Hey Bulldog", duration: "3:14", authors: "Lennon-McCartney", recordDate: "1968-02-11", releaseDate: "1969-01-13" }, { title: "It's All Too Much", duration: "6:28", authors: "Harrison", recordDate: "1967-06-02", releaseDate: "1969-01-13" }, { title: "All You Need Is Love", duration: "3:48", authors: "Lennon-McCartney", recordDate: "1967-06-14", releaseDate: "1967-07-07" },
                ]
            },
            {
                type: 'studio', title: "Abbey Road", year: 1969,
                cover: "https://www.thebeatles.com/sites/default/files/styles/responsive_thumbnail_mobile/public/2021-06/Abbey%20Road.jpg",
                released: "26 September 1969", recorded: "22 February – 20 August 1969", studio: "EMI, Olympic and Trident, London", genre: "Rock, pop", length: "47:04", label: "Apple", producer: "George Martin",
                songs: [
                    { title: "Come Together", duration: "4:20", authors: "Lennon-McCartney", recordDate: "1969-07-21", releaseDate: "1969-09-26" }, { title: "Something", duration: "3:03", authors: "Harrison", recordDate: "1969-05-02", releaseDate: "1969-09-26" }, { title: "Maxwell's Silver Hammer", duration: "3:27", authors: "Lennon-McCartney", recordDate: "1969-07-09", releaseDate: "1969-09-26" }, { title: "Oh! Darling", duration: "3:26", authors: "Lennon-McCartney", recordDate: "1969-04-20", releaseDate: "1969-09-26" }, { title: "Octopus's Garden", duration: "2:51", authors: "Starkey", recordDate: "1969-04-26", releaseDate: "1969-09-26" }, { title: "I Want You (She's So Heavy)", duration: "7:47", authors: "Lennon-McCartney", recordDate: "1969-02-22", releaseDate: "1969-09-26" }, { title: "Here Comes the Sun", duration: "3:05", authors: "Harrison", recordDate: "1969-07-07", releaseDate: "1969-09-26" }, { title: "Because", duration: "2:45", authors: "Lennon-McCartney", recordDate: "1969-08-01", releaseDate: "1969-09-26" }, { title: "You Never Give Me Your Money", duration: "4:02", authors: "Lennon-McCartney", recordDate: "1969-05-06", releaseDate: "1969-09-26" }, { title: "Sun King", duration: "2:26", authors: "Lennon-McCartney", recordDate: "1969-07-24", releaseDate: "1969-09-26" }, { title: "Mean Mr. Mustard", duration: "1:06", authors: "Lennon-McCartney", recordDate: "1969-07-24", releaseDate: "1969-09-26" }, { title: "Polythene Pam", duration: "1:12", authors: "Lennon-McCartney", recordDate: "1969-07-25", releaseDate: "1969-09-26" }, { title: "She Came in Through the Bathroom Window", duration: "1:57", authors: "Lennon-McCartney", recordDate: "1969-07-25", releaseDate: "1969-09-26" }, { title: "Golden Slumbers", duration: "1:31", authors: "Lennon-McCartney", recordDate: "1969-07-02", releaseDate: "1969-09-26" }, { title: "Carry That Weight", duration: "1:36", authors: "Lennon-McCartney", recordDate: "1969-07-02", releaseDate: "1969-09-26" }, { title: "The End", duration: "2:21", authors: "Lennon-McCartney", recordDate: "1969-07-23", releaseDate: "1969-09-26" }, { title: "Her Majesty", duration: "0:23", authors: "Lennon-McCartney", recordDate: "1969-07-02", releaseDate: "1969-09-26" }
                ]
            },
            {
                type: 'studio', title: "Let It Be", year: 1970,
                cover: "https://www.thebeatles.com/sites/default/files/styles/responsive_thumbnail_mobile/public/2021-06/CoverLetItBe.jpg",
                released: "8 May 1970", recorded: "February 1968, January–February 1969, January and March–April 1970", studio: "EMI, Apple and Twickenham, London", genre: "Rock, blues rock", length: "35:08", label: "Apple", producer: "Phil Spector",
                songs: [
                    { title: "Two of Us", duration: "3:37", authors: "Lennon-McCartney", recordDate: "1969-01-31", releaseDate: "1970-05-08" }, { title: "Dig a Pony", duration: "3:55", authors: "Lennon-McCartney", recordDate: "1969-01-30", releaseDate: "1970-05-08" }, { title: "Across the Universe", duration: "3:48", authors: "Lennon-McCartney", recordDate: "1968-02-04", releaseDate: "1970-05-08" }, { title: "I Me Mine", duration: "2:26", authors: "Harrison", recordDate: "1970-01-03", releaseDate: "1970-05-08" }, { title: "Dig It", duration: "0:50", authors: "Lennon-McCartney-Harrison-Starkey", recordDate: "1969-01-26", releaseDate: "1970-05-08" }, { title: "Let It Be", duration: "4:03", authors: "Lennon-McCartney", recordDate: "1969-01-31", releaseDate: "1970-03-06" }, { title: "Maggie Mae", duration: "0:40", authors: "Trad. arr. Lennon-McCartney-Harrison-Starkey", recordDate: "1969-01-24", releaseDate: "1970-05-08" }, { title: "I've Got a Feeling", duration: "3:38", authors: "Lennon-McCartney", recordDate: "1969-01-30", releaseDate: "1970-05-08" }, { title: "One After 909", duration: "2:54", authors: "Lennon-McCartney", recordDate: "1969-01-30", releaseDate: "1970-05-08" }, { title: "The Long and Winding Road", duration: "3:38", authors: "Lennon-McCartney", recordDate: "1969-01-31", releaseDate: "1970-05-08" }, { title: "For You Blue", duration: "2:32", authors: "Harrison", recordDate: "1969-01-25", releaseDate: "1970-05-08" }, { title: "Get Back", duration: "3:09", authors: "Lennon-McCartney", recordDate: "1969-01-27", releaseDate: "1969-04-11" }
                ]
            },
            // Compilations & Singles
            {
                type: 'compilation', title: "The Beatles 1962–1966 (Red Album)", year: 1973,
                cover: "https://www.thebeatles.com/sites/default/files/styles/background_image/public/2021-06/RedAlbum.jpeg",
                released: "2 April 1973", recorded: "1962–1966", studio: "EMI Studios, London", genre: "Pop, rock", length: "62:37", label: "Apple, EMI", producer: "George Martin",
                songs: [
                    { title: "Love Me Do", duration: "2:22", authors: "Lennon-McCartney" }, { title: "Please Please Me", duration: "2:00", authors: "Lennon-McCartney" }, { title: "From Me to You", duration: "1:56", authors: "Lennon-McCartney" }, { title: "She Loves You", duration: "2:21", authors: "Lennon-McCartney" }, { title: "I Want to Hold Your Hand", duration: "2:24", authors: "Lennon-McCartney" }, { title: "All My Loving", duration: "2:07", authors: "Lennon-McCartney" }, { title: "Can't Buy Me Love", duration: "2:11", authors: "Lennon-McCartney" }, { title: "A Hard Day's Night", duration: "2:33", authors: "Lennon-McCartney" }, { title: "And I Love Her", duration: "2:29", authors: "Lennon-McCartney" }, { title: "Eight Days a Week", duration: "2:43", authors: "Lennon-McCartney" }, { title: "I Feel Fine", duration: "2:18", authors: "Lennon-McCartney" }, { title: "Ticket to Ride", duration: "3:09", authors: "Lennon-McCartney" }, { title: "Yesterday", duration: "2:05", authors: "Lennon-McCartney" }, { title: "Help!", duration: "2:18", authors: "Lennon-McCartney" }, { title: "You've Got to Hide Your Love Away", duration: "2:08", authors: "Lennon-McCartney" }, { title: "We Can Work It Out", duration: "2:15", authors: "Lennon-McCartney" }, { title: "Day Tripper", duration: "2:48", authors: "Lennon-McCartney" }, { title: "Drive My Car", duration: "2:25", authors: "Lennon-McCartney" }, { title: "Norwegian Wood (This Bird Has Flown)", duration: "2:04", authors: "Lennon-McCartney" }, { title: "Nowhere Man", duration: "2:43", authors: "Lennon-McCartney" }, { title: "Michelle", duration: "2:42", authors: "Lennon-McCartney" }, { title: "In My Life", duration: "2:26", authors: "Lennon-McCartney" }, { title: "Girl", duration: "2:31", authors: "Lennon-McCartney" }, { title: "Paperback Writer", duration: "2:18", authors: "Lennon-McCartney" }, { title: "Eleanor Rigby", duration: "2:06", authors: "Lennon-McCartney" }, { title: "Yellow Submarine", duration: "2:38", authors: "Lennon-McCartney" },
                ]
            },
            {
                type: 'compilation', title: "The Beatles 1967–1970 (Blue Album)", year: 1973,
                cover: "https://www.thebeatles.com/sites/default/files/styles/background_image/public/2021-06/BlueAlbum.jpeg",
                released: "2 April 1973", recorded: "1966–1970", studio: "Various", genre: "Rock, pop", length: "99:39", label: "Apple, EMI", producer: "George Martin, Phil Spector",
                songs: [
                    { title: "Strawberry Fields Forever", duration: "4:08", authors: "Lennon-McCartney" }, { title: "Penny Lane", duration: "3:00", authors: "Lennon-McCartney" }, { title: "Sgt. Pepper's Lonely Hearts Club Band", duration: "2:02", authors: "Lennon-McCartney" }, { title: "With a Little Help from My Friends", duration: "2:44", authors: "Lennon-McCartney" }, { title: "Lucy in the Sky with Diamonds", duration: "3:28", authors: "Lennon-McCartney" }, { title: "A Day in the Life", duration: "5:33", authors: "Lennon-McCartney" }, { title: "All You Need Is Love", duration: "3:47", authors: "Lennon-McCartney" }, { title: "I Am the Walrus", duration: "4:34", authors: "Lennon-McCartney" }, { title: "Hello, Goodbye", duration: "3:27", authors: "Lennon-McCartney" }, { title: "The Fool on the Hill", duration: "2:59", authors: "Lennon-McCartney" }, { title: "Magical Mystery Tour", duration: "2:49", authors: "Lennon-McCartney" }, { title: "Lady Madonna", duration: "2:16", authors: "Lennon-McCartney" }, { title: "Hey Jude", duration: "7:08", authors: "Lennon-McCartney" }, { title: "Revolution", duration: "3:24", authors: "Lennon-McCartney" }, { title: "Back in the U.S.S.R.", duration: "2:43", authors: "Lennon-McCartney" }, { title: "While My Guitar Gently Weeps", duration: "4:45", authors: "Harrison" }, { title: "Ob-La-Di, Ob-La-Da", duration: "3:08", authors: "Lennon-McCartney" }, { title: "Get Back", duration: "3:14", authors: "Lennon-McCartney" }, { title: "Don't Let Me Down", duration: "3:33", authors: "Lennon-McCartney" }, { title: "The Ballad of John and Yoko", duration: "2:59", authors: "Lennon-McCartney" }, { title: "Old Brown Shoe", duration: "3:18", authors: "Harrison" }, { title: "Here Comes the Sun", duration: "3:05", authors: "Harrison" }, { title: "Come Together", duration: "4:19", authors: "Lennon-McCartney" }, { title: "Something", duration: "3:02", authors: "Harrison" }, { title: "Octopus's Garden", duration: "2:50", authors: "Starkey" }, { title: "Let It Be", duration: "3:50", authors: "Lennon-McCartney" }, { title: "Across the Universe", duration: "3:48", authors: "Lennon-McCartney" }, { title: "The Long and Winding Road", duration: "3:37", authors: "Lennon-McCartney" }
                ]
            },
            {
                type: 'compilation', title: "Past Masters", year: 1988,
                cover: "https://www.thebeatles.com/sites/default/files/styles/background_image/public/2021-06/PastMasters.jpeg",
                released: "7 March 1988", recorded: "1962–1970", studio: "Various", genre: "Rock, pop", length: "105:07", label: "Parlophone, Capitol", producer: "George Martin, Phil Spector",
                songs: [
                    { title: "Love Me Do (Single Version)", duration: "2:24", authors: "Lennon-McCartney" }, { title: "From Me to You", duration: "1:57", authors: "Lennon-McCartney" }, { title: "Thank You Girl", duration: "2:04", authors: "Lennon-McCartney" }, { title: "She Loves You", duration: "2:21", authors: "Lennon-McCartney" }, { title: "I'll Get You", duration: "2:06", authors: "Lennon-McCartney" }, { title: "I Want to Hold Your Hand", duration: "2:26", authors: "Lennon-McCartney" }, { title: "This Boy", duration: "2:16", authors: "Lennon-McCartney" }, { title: "Komm, Gib Mir Deine Hand", duration: "2:26", authors: "Lennon-McCartney/Nicolas/Hellmer" }, { title: "Sie Liebt Dich", duration: "2:19", authors: "Lennon-McCartney/Nicolas/Montague" }, { title: "Long Tall Sally", duration: "2:03", authors: "Johnson/Penniman/Blackwell" }, { title: "I Call Your Name", duration: "2:09", authors: "Lennon-McCartney" }, { title: "Slow Down", duration: "2:56", authors: "Larry Williams" }, { title: "Matchbox", duration: "1:58", authors: "Carl Perkins" }, { title: "I Feel Fine", duration: "2:20", authors: "Lennon-McCartney" }, { title: "She's a Woman", duration: "3:03", authors: "Lennon-McCartney" }, { title: "Bad Boy", duration: "2:20", authors: "Larry Williams" }, { title: "Yes It Is", duration: "2:42", authors: "Lennon-McCartney" }, { title: "I'm Down", duration: "2:32", authors: "Lennon-McCartney" }, { title: "Day Tripper", duration: "2:50", authors: "Lennon-McCartney" }, { title: "We Can Work It Out", duration: "2:15", authors: "Lennon-McCartney" }, { title: "Paperback Writer", duration: "2:19", authors: "Lennon-McCartney" }, { title: "Rain", duration: "3:02", authors: "Lennon-McCartney" }, { title: "Lady Madonna", duration: "2:17", authors: "Lennon-McCartney" }, { title: "The Inner Light", duration: "2:36", authors: "Harrison" }, { title: "Hey Jude", duration: "7:11", authors: "Lennon-McCartney" }, { title: "Revolution", duration: "3:25", authors: "Lennon-McCartney" }, { title: "Get Back (with Billy Preston)", duration: "3:15", authors: "Lennon-McCartney" }, { title: "Don't Let Me Down (with Billy Preston)", duration: "3:35", authors: "Lennon-McCartney" }, { title: "The Ballad of John and Yoko", duration: "3:00", authors: "Lennon-McCartney" }, { title: "Old Brown Shoe", duration: "3:18", authors: "Harrison" }, { title: "Across the Universe (WWF version)", duration: "3:49", authors: "Lennon-McCartney" }, { title: "Let It Be (Single Version)", duration: "3:51", authors: "Lennon-McCartney" }, { title: "You Know My Name (Look Up the Number)", duration: "4:19", authors: "Lennon-McCartney" }
                ]
            },
            {
                type: 'compilation', title: "Live at the BBC", year: 1994,
                cover: "https://www.thebeatles.com/sites/default/files/styles/background_image/public/2021-06/LiveAtTheBBC.jpeg",
                released: "30 November 1994", recorded: "1963–1965", studio: "BBC Studios, London", genre: "Rock and roll, beat", length: "136:58", label: "Apple, Parlophone", producer: "George Martin",
                 songs: [
                    { title: "Beatle Greetings", duration: "0:14", authors: "Spoken word" }, { title: "From Us to You", duration: "0:27", authors: "Lennon–McCartney" }, { title: "Riding on a Bus", duration: "0:54", authors: "Spoken word" }, { title: "I Got a Woman", duration: "2:48", authors: "Charles-Richard" }, { title: "Too Much Monkey Business", duration: "2:06", authors: "Chuck Berry" }, { title: "Keep Your Hands Off My Baby", duration: "2:30", authors: "Goffin-King" }, { title: "I'll Be on My Way", duration: "1:58", authors: "Lennon–McCartney" }, { title: "Young Blood", duration: "1:57", authors: "Leiber-Stoller-Pomus" }, { title: "A Shot of Rhythm and Blues", duration: "2:15", authors: "Thompson" }, { title: "Sure to Fall (In Love with You)", duration: "2:08", authors: "Perkins-Claunch-Cantrell" }, { title: "Some Other Guy", duration: "2:01", authors: "Leiber-Stoller-Barrett" }, { title: "Thank You Girl", duration: "2:01", authors: "Lennon–McCartney" }, { title: "Sha La La La La!", duration: "0:28", authors: "Spoken word" }, { title: "Baby It's You", duration: "2:44", authors: "David-Bacharach-Williams" }, { title: "That's All Right (Mama)", duration: "2:54", authors: "Crudup" }, { title: "Carol", duration: "2:35", authors: "Chuck Berry" }, { title: "Soldier of Love", duration: "2:00", authors: "Cason-Moon" }, { title: "A Little Rhyme", duration: "0:26", authors: "Spoken word" }, { title: "Clarabella", duration: "2:39", authors: "Pingatore" }, { title: "I'm Gonna Sit Right Down and Cry (Over You)", duration: "2:01", authors: "Thomas-Biggs" }, { title: "Crying, Waiting, Hoping", duration: "2:09", authors: "Buddy Holly" }, { title: "Dear Wack!", duration: "0:42", authors: "Spoken word" }, { title: "You Really Got a Hold on Me", duration: "2:37", authors: "Robinson" }, { title: "To Know Her Is to Love Her", duration: "2:49", authors: "Spector" }, { title: "A Taste of Honey", duration: "1:57", authors: "Scott-Marlow" }, { title: "Long Tall Sally", duration: "1:53", authors: "Johnson-Penniman-Blackwell" }, { title: "I Saw Her Standing There", duration: "2:32", authors: "Lennon–McCartney" }, { title: "The Honeymoon Song", duration: "1:39", authors: "Theodorakis-Sansom" }, { title: "Johnny B. Goode", duration: "2:51", authors: "Chuck Berry" }, { title: "Memphis, Tennessee", duration: "2:13", authors: "Chuck Berry" }, { title: "Lucille", duration: "1:49", authors: "Collins-Penniman" }, { title: "Can't Buy Me Love", duration: "2:06", authors: "Lennon–McCartney" }, { title: "From Fluff to You", duration: "0:28", authors: "Spoken word" }, { title: "Till There Was You", duration: "2:13", authors: "Willson" }, { title: "Crinsk Dee Night", duration: "1:05", authors: "Spoken word" }, { title: "A Hard Day's Night", duration: "2:24", authors: "Lennon–McCartney" }, { title: "Have a Banana!", duration: "0:22", authors: "Spoken word" }, { title: "I Wanna Be Your Man", duration: "2:09", authors: "Lennon–McCartney" }, { title: "Just a Rumour", duration: "0:20", authors: "Spoken word" }, { title: "Roll Over Beethoven", duration: "2:16", authors: "Chuck Berry" }, { title: "All My Loving", duration: "2:04", authors: "Lennon–McCartney" }, { title: "Things We Said Today", duration: "2:18", authors: "Lennon–McCartney" }, { title: "She's a Woman", duration: "3:15", authors: "Lennon–McCartney" }, { title: "Sweet Little Sixteen", duration: "2:21", authors: "Chuck Berry" }, { title: "1822!", duration: "0:10", authors: "Spoken word" }, { title: "Lonesome Tears in My Eyes", duration: "2:36", authors: "Burnette-Burnette-Burlison-Mortimer" }, { title: "Nothin' Shakin'", duration: "2:59", authors: "Fontaine-Calacrai-Gluck-Lampert" }, { title: "The Hippy Hippy Shake", duration: "1:49", authors: "Romero" }, { title: "Glad All Over", duration: "1:52", authors: "Schroeder-Tepper-Bennett" }, { title: "I Just Don't Understand", duration: "2:47", authors: "Wilkin-Westberry" }, { title: "So How Come (No One Loves Me)", duration: "1:54", authors: "Bryant" }, { title: "I Feel Fine", duration: "2:13", authors: "Lennon–McCartney" }, { title: "I'm a Loser", duration: "2:31", authors: "Lennon–McCartney" }, { title: "Everybody's Trying to Be My Baby", duration: "2:21", authors: "Perkins" }, { title: "Rock and Roll Music", duration: "2:01", authors: "Chuck Berry" }, { title: "Ticket to Ride", duration: "2:56", authors: "Lennon–McCartney" }, { title: "Dizzy Miss Lizzy", duration: "2:42", authors: "Williams" }, { title: "Kansas City/Hey-Hey-Hey-Hey!", duration: "2:37", authors: "Leiber-Stoller/Penniman" }, { title: "Set Fire to That Lot!", duration: "0:28", authors: "Spoken word" }, { title: "Matchbox", duration: "1:57", authors: "Perkins" }, { title: "I Forgot to Remember to Forget", duration: "2:09", authors: "Kessler-Feathers" }, { title: "Love These Goon Shows!", duration: "0:27", authors: "Spoken word" }, { title: "I Got to Find My Baby", duration: "1:56", authors: "Chuck Berry" }, { title: "Ooh! My Soul", duration: "1:37", authors: "Penniman" }, { title: "Ooh! My Arms", duration: "0:36", authors: "Spoken word" }, { title: "Don't Ever Change", duration: "2:03", authors: "Goffin-King" }, { title: "Slow Down", duration: "2:36", authors: "Williams" }, { title: "Honey Don't", duration: "2:11", authors: "Perkins" }, { title: "Love Me Do", duration: "2:30", authors: "Lennon–McCartney" }
                ]
            },
            {
                type: 'compilation', title: "Anthology 1", year: 1995,
                cover: "https://www.thebeatles.com/sites/default/files/styles/background_image/public/2021-06/Anthology1.jpeg",
                released: "21 November 1995", recorded: "1958–1964", studio: "Various", genre: "Rock and roll, beat", length: "124:43", label: "Apple, Capitol, EMI", producer: "Jeff Lynne, George Martin",
                songs: [
                    { title: "Free as a Bird", duration: "4:25", authors: "Lennon-McCartney-Harrison-Starkey", recordDate: "1994-02-11", releaseDate: "1995-11-21" }, 
                    { title: "We were four guys ...", duration: "0:12", authors: "Spoken word" }, 
                    { title: "That'll Be the Day", duration: "2:08", authors: "Allison-Holly-Petty", recordDate: "1958-07-12", releaseDate: "1995-11-21" }, 
                    { title: "In Spite of All the Danger", duration: "2:45", authors: "McCartney-Harrison", recordDate: "1958-07-12", releaseDate: "1995-11-21" }, 
                    { title: "Sometimes I'd borrow ...", duration: "0:18", authors: "Spoken word" }, 
                    { title: "Hallelujah, I Love Her So", duration: "1:13", authors: "Ray Charles", recordDate: "1960-04-01", releaseDate: "1995-11-21" }, 
                    { title: "You'll Be Mine", duration: "1:39", authors: "Lennon-McCartney", recordDate: "1960-04-01", releaseDate: "1995-11-21" }, 
                    { title: "Cayenne", duration: "1:14", authors: "McCartney", recordDate: "1960-04-01", releaseDate: "1995-11-21" }, 
                    { title: "First of all ...", duration: "0:10", authors: "Spoken word" }, 
                    { title: "My Bonnie", duration: "2:42", authors: "Trad. arr. Tony Sheridan", recordDate: "1961-06-22", releaseDate: "1995-11-21" }, 
                    { title: "Ain't She Sweet", duration: "2:09", authors: "Ager-Yellen", recordDate: "1961-06-23", releaseDate: "1995-11-21" }, 
                    { title: "Cry for a Shadow", duration: "2:24", authors: "Lennon-Harrison", recordDate: "1961-06-22", releaseDate: "1995-11-21" }, 
                    { title: "Brian was a beautiful guy ...", duration: "0:10", authors: "Spoken word" }, 
                    { title: "I secured them ...", duration: "0:18", authors: "Spoken word" }, 
                    { title: "Searchin'", duration: "3:00", authors: "Leiber-Stoller", recordDate: "1962-01-01", releaseDate: "1995-11-21" }, 
                    { title: "Three Cool Cats", duration: "2:25", authors: "Leiber-Stoller", recordDate: "1962-01-01", releaseDate: "1995-11-21" }, 
                    { title: "The Sheik of Araby", duration: "1:43", authors: "Smith-Wheeler-Snyder", recordDate: "1962-01-01", releaseDate: "1995-11-21" }, 
                    { title: "Like Dreamers Do", duration: "2:36", authors: "Lennon-McCartney", recordDate: "1962-01-01", releaseDate: "1995-11-21" }, 
                    { title: "Hello Little Girl", duration: "1:40", authors: "Lennon-McCartney", recordDate: "1962-01-01", releaseDate: "1995-11-21" }, 
                    { title: "Well, the recording test ...", duration: "0:32", authors: "Spoken word" }, 
                    { title: "Besame Mucho", duration: "2:37", authors: "Velázquez-Skylar", recordDate: "1962-06-06", releaseDate: "1995-11-21" }, 
                    { title: "Love Me Do", duration: "2:32", authors: "Lennon-McCartney", recordDate: "1962-06-06", releaseDate: "1995-11-21" }, 
                    { title: "How Do You Do It?", duration: "1:57", authors: "Mitch Murray", recordDate: "1962-09-04", releaseDate: "1995-11-21" }, 
                    { title: "Please Please Me", duration: "1:59", authors: "Lennon-McCartney", recordDate: "1962-09-11", releaseDate: "1995-11-21" }, 
                    { title: "One After 909 (Sequence)", duration: "2:23", authors: "Lennon-McCartney", recordDate: "1963-03-05", releaseDate: "1995-11-21" }, 
                    { title: "One After 909 (Complete)", duration: "2:56", authors: "Lennon-McCartney", recordDate: "1963-03-05", releaseDate: "1995-11-21" }, 
                    { title: "Lend Me Your Comb", duration: "1:50", authors: "Twomey-Wise-Weisman", recordDate: "1963-07-02", releaseDate: "1995-11-21" }, 
                    { title: "I'll Get You", duration: "2:08", authors: "Lennon-McCartney", recordDate: "1963-10-13", releaseDate: "1995-11-21" }, 
                    { title: "We were performers ...", duration: "0:12", authors: "Spoken word" }, 
                    { title: "I Saw Her Standing There", duration: "2:49", authors: "Lennon-McCartney", recordDate: "1963-10-24", releaseDate: "1995-11-21" }, 
                    { title: "From Me to You", duration: "2:05", authors: "Lennon-McCartney", recordDate: "1963-10-24", releaseDate: "1995-11-21" }, 
                    { title: "Money (That's What I Want)", duration: "2:52", authors: "Bradford-Gordy", recordDate: "1963-10-24", releaseDate: "1995-11-21" }, 
                    { title: "You Really Got a Hold on Me", duration: "2:58", authors: "Robinson", recordDate: "1963-10-24", releaseDate: "1995-11-21" }, 
                    { title: "Roll Over Beethoven", duration: "2:22", authors: "Chuck Berry", recordDate: "1963-10-24", releaseDate: "1995-11-21" }, 
                    { title: "She Loves You", duration: "2:50", authors: "Lennon-McCartney", recordDate: "1963-11-20", releaseDate: "1995-11-21" }, 
                    { title: "Till There Was You", duration: "2:54", authors: "Willson", recordDate: "1963-11-04", releaseDate: "1995-11-21" }, 
                    { title: "Twist and Shout", duration: "3:05", authors: "Medley-Russell", recordDate: "1963-11-04", releaseDate: "1995-11-21" }, 
                    { title: "This Boy", duration: "2:22", authors: "Lennon-McCartney", recordDate: "1964-02-16", releaseDate: "1995-11-21" }, 
                    { title: "I Want to Hold Your Hand", duration: "2:37", authors: "Lennon-McCartney", recordDate: "1964-02-16", releaseDate: "1995-11-21" }, 
                    { title: "Boys, what I was thinking...", duration: "2:06", authors: "Spoken word" }, 
                    { title: "Moonlight Bay", duration: "0:50", authors: "Madden-Wenrich", recordDate: "1963-12-02", releaseDate: "1995-11-21" }, 
                    { title: "Can't Buy Me Love", duration: "2:10", authors: "Lennon-McCartney", recordDate: "1964-02-28", releaseDate: "1995-11-21" }, 
                    { title: "All My Loving", duration: "2:19", authors: "Lennon-McCartney", recordDate: "1964-02-09", releaseDate: "1995-11-21" }, 
                    { title: "You Can't Do That", duration: "2:42", authors: "Lennon-McCartney", recordDate: "1964-04-19", releaseDate: "1995-11-21" }, 
                    { title: "And I Love Her", duration: "1:52", authors: "Lennon-McCartney", recordDate: "1964-06-01", releaseDate: "1995-11-21" }, 
                    { title: "A Hard Day's Night", duration: "2:44", authors: "Lennon-McCartney", recordDate: "1964-04-16", releaseDate: "1995-11-21" }, 
                    { title: "I Wanna Be Your Man", duration: "1:48", authors: "Lennon-McCartney", recordDate: "1964-04-19", releaseDate: "1995-11-21" }, 
                    { title: "Long Tall Sally", duration: "1:45", authors: "Johnson-Penniman-Blackwell", recordDate: "1964-04-19", releaseDate: "1995-11-21" }, 
                    { title: "Boys", duration: "1:50", authors: "Dixon-Farrell", recordDate: "1964-04-19", releaseDate: "1995-11-21" }, 
                    { title: "Shout", duration: "1:31", authors: "Isley-Isley-Isley", recordDate: "1964-04-19", releaseDate: "1995-11-21" }, 
                    { title: "I'll Be Back (Take 2)", duration: "1:13", authors: "Lennon-McCartney", recordDate: "1964-06-01", releaseDate: "1995-11-21" }, 
                    { title: "I'll Be Back (Take 3)", duration: "2:00", authors: "Lennon-McCartney", recordDate: "1964-06-01", releaseDate: "1995-11-21" }, 
                    { title: "You Know What to Do", duration: "1:59", authors: "Harrison", recordDate: "1964-06-03", releaseDate: "1995-11-21" }, 
                    { title: "No Reply (Demo)", duration: "1:46", authors: "Lennon-McCartney", recordDate: "1964-06-03", releaseDate: "1995-11-21" }, 
                    { title: "Mr. Moonlight", duration: "2:47", authors: "Johnson", recordDate: "1964-08-14", releaseDate: "1995-11-21" }, 
                    { title: "Leave My Kitten Alone", duration: "2:57", authors: "John-Turner-McDougal", recordDate: "1964-08-14", releaseDate: "1995-11-21" }, 
                    { title: "No Reply", duration: "2:29", authors: "Lennon-McCartney", recordDate: "1964-09-30", releaseDate: "1995-11-21" }, 
                    { title: "Eight Days a Week (Sequence)", duration: "1:25", authors: "Lennon-McCartney", recordDate: "1964-10-06", releaseDate: "1995-11-21" }, 
                    { title: "Eight Days a Week (Complete)", duration: "2:48", authors: "Lennon-McCartney", recordDate: "1964-10-06", releaseDate: "1995-11-21" }, 
                    { title: "Kansas City/Hey-Hey-Hey-Hey!", duration: "2:44", authors: "Leiber-Stoller/Penniman", recordDate: "1964-10-18", releaseDate: "1995-11-21" }
                ]
            },
            {
                type: 'compilation', title: "Anthology 2", year: 1996,
                cover: "https://www.thebeatles.com/sites/default/files/styles/background_image/public/2021-06/Anthology2.jpeg",
                released: "18 March 1996", recorded: "1965–1968", studio: "EMI Studios, London", genre: "Rock, pop", length: "128:06", label: "Apple, Capitol, EMI", producer: "George Martin, Jeff Lynne",
                songs: [
                    { title: "Real Love", duration: "3:54", authors: "Lennon" }, { title: "Yes It Is", duration: "1:50", authors: "Lennon–McCartney" }, { title: "I'm Down", duration: "2:53", authors: "Lennon–McCartney" }, { title: "You've Got to Hide Your Love Away", duration: "2:45", authors: "Lennon–McCartney" }, { title: "If You've Got Trouble", duration: "2:48", authors: "Lennon–McCartney" }, { title: "That Means a Lot", duration: "2:27", authors: "Lennon–McCartney" }, { title: "Yesterday", duration: "2:34", authors: "Lennon–McCartney" }, { title: "It's Only Love", duration: "1:59", authors: "Lennon–McCartney" }, { title: "I Feel Fine", duration: "2:16", authors: "Lennon–McCartney" }, { title: "Ticket to Ride", duration: "2:45", authors: "Lennon–McCartney" }, { title: "Yesterday", duration: "2:43", authors: "Lennon–McCartney" }, { title: "Help!", duration: "2:55", authors: "Lennon–McCartney" }, { title: "Everybody's Trying to Be My Baby", duration: "2:45", authors: "Perkins" }, { title: "Norwegian Wood (This Bird Has Flown)", duration: "1:59", authors: "Lennon–McCartney" }, { title: "I'm Looking Through You", duration: "2:54", authors: "Lennon–McCartney" }, { title: "12-Bar Original", duration: "2:55", authors: "Lennon–McCartney–Harrison–Starkey" }, { title: "Tomorrow Never Knows", duration: "3:14", authors: "Lennon–McCartney" }, { title: "Got to Get You into My Life", duration: "2:54", authors: "Lennon–McCartney" }, { title: "And Your Bird Can Sing", duration: "2:13", authors: "Lennon–McCartney" }, { title: "Taxman", duration: "2:32", authors: "Harrison" }, { title: "Eleanor Rigby (Strings only)", duration: "2:06", authors: "Lennon–McCartney" }, { title: "I'm Only Sleeping (Rehearsal)", duration: "0:41", authors: "Lennon–McCartney" }, { title: "I'm Only Sleeping (Take 1)", duration: "2:59", authors: "Lennon–McCartney" }, { title: "Rock and Roll Music", duration: "1:39", authors: "Berry" }, { title: "She's a Woman", duration: "2:55", authors: "Lennon–McCartney" }, { title: "Strawberry Fields Forever (Demo)", duration: "1:42", authors: "Lennon-McCartney" }, { title: "Strawberry Fields Forever (Take 1)", duration: "2:34", authors: "Lennon-McCartney" }, { title: "Strawberry Fields Forever (Take 7 & Edit)", duration: "4:14", authors: "Lennon-McCartney" }, { title: "Penny Lane", duration: "3:13", authors: "Lennon-McCartney" }, { title: "A Day in the Life", duration: "5:05", authors: "Lennon-McCartney" }, { title: "Good Morning Good Morning", duration: "2:40", authors: "Lennon-McCartney" }, { title: "Only a Northern Song", duration: "2:44", authors: "Harrison" }, { title: "Being for the Benefit of Mr. Kite! (Takes 1 & 2)", duration: "1:06", authors: "Lennon-McCartney" }, { title: "Being for the Benefit of Mr. Kite! (Take 7)", duration: "2:34", authors: "Lennon-McCartney" }, { title: "Lucy in the Sky with Diamonds", duration: "3:06", authors: "Lennon-McCartney" }, { title: "Within You Without You (Instrumental)", duration: "5:28", authors: "Harrison" }, { title: "Sgt. Pepper's Lonely Hearts Club Band (Reprise)", duration: "1:27", authors: "Lennon-McCartney" }, { title: "You Know My Name (Look Up the Number)", duration: "5:43", authors: "Lennon-McCartney" }, { title: "I Am the Walrus", duration: "4:02", authors: "Lennon-McCartney" }, { title: "The Fool on the Hill (Demo)", duration: "2:48", authors: "Lennon-McCartney" }, { title: "Your Mother Should Know", duration: "3:02", authors: "Lennon-McCartney" }, { title: "The Fool on the Hill (Take 4)", duration: "3:45", authors: "Lennon-McCartney" }, { title: "Hello, Goodbye", duration: "3:18", authors: "Lennon-McCartney" }, { title: "Lady Madonna", duration: "2:22", authors: "Lennon-McCartney" }, { title: "Across the Universe", duration: "3:29", authors: "Lennon-McCartney" }
                ]
            },
            {
                type: 'compilation', title: "Anthology 3", year: 1996,
                cover: "https://www.thebeatles.com/sites/default/files/styles/background_image/public/2021-06/Anthology3.jpeg",
                released: "28 October 1996", recorded: "1968–1970", studio: "EMI, Apple, Twickenham Studios", genre: "Rock, pop", length: "145:33", label: "Apple, Capitol, EMI", producer: "George Martin",
                songs: [
                    { title: "A Beginning", duration: "0:50", authors: "Martin" }, { title: "Happiness Is a Warm Gun", duration: "2:15", authors: "Lennon–McCartney" }, { title: "Helter Skelter", duration: "4:38", authors: "Lennon–McCartney" }, { title: "Mean Mr. Mustard", duration: "1:58", authors: "Lennon–McCartney" }, { title: "Polythene Pam", duration: "1:26", authors: "Lennon–McCartney" }, { title: "Glass Onion", duration: "1:51", authors: "Lennon–McCartney" }, { title: "Junk", duration: "2:25", authors: "McCartney" }, { title: "Piggies", duration: "2:01", authors: "Harrison" }, { title: "Honey Pie", duration: "1:19", authors: "Lennon–McCartney" }, { title: "Don't Pass Me By", duration: "2:42", authors: "Starkey" }, { title: "Ob-La-Di, Ob-La-Da", duration: "2:56", authors: "Lennon–McCartney" }, { title: "Good Night", duration: "2:38", authors: "Lennon–McCartney" }, { title: "Cry Baby Cry", duration: "2:47", authors: "Lennon–McCartney" }, { title: "Blackbird", duration: "2:19", authors: "Lennon–McCartney" }, { title: "Sexy Sadie", duration: "4:07", authors: "Lennon–McCartney" }, { title: "While My Guitar Gently Weeps", duration: "3:28", authors: "Harrison" }, { title: "Hey Jude", duration: "4:21", authors: "Lennon–McCartney" }, { title: "Not Guilty", duration: "3:22", authors: "Harrison" }, { title: "Mother Nature's Son", duration: "3:17", authors: "Lennon–McCartney" }, { title: "Glass Onion", duration: "2:08", authors: "Lennon–McCartney" }, { title: "Rocky Raccoon", duration: "4:13", authors: "Lennon–McCartney" }, { title: "What's the New Mary Jane", duration: "6:12", authors: "Lennon–McCartney" }, { title: "Step Inside Love / Los Paranoias", duration: "2:31", authors: "Lennon–McCartney" }, { title: "I'm So Tired", duration: "2:14", authors: "Lennon–McCartney" }, { title: "I Will", duration: "1:55", authors: "Lennon–McCartney" }, { title: "Why Don't We Do It in the Road?", duration: "2:15", authors: "Lennon–McCartney" }, { title: "Julia", duration: "1:57", authors: "Lennon–McCartney" }, { title: "I've Got a Feeling", duration: "2:49", authors: "Lennon–McCartney" }, { title: "She Came in Through the Bathroom Window", duration: "3:37", authors: "Lennon–McCartney" }, { title: "Dig a Pony", duration: "4:18", authors: "Lennon–McCartney" }, { title: "Two of Us", duration: "3:27", authors: "Lennon–McCartney" }, { title: "For You Blue", duration: "2:42", authors: "Harrison" }, { title: "Teddy Boy", duration: "3:18", authors: "McCartney" }, { title: "Medley: Rip It Up / Shake, Rattle and Roll / Blue Suede Shoes", duration: "3:11", authors: "Blackwell-Marascalco/Calhoun/Perkins" }, { title: "The Long and Winding Road", duration: "3:42", authors: "Lennon–McCartney" }, { title: "Oh! Darling", duration: "4:07", authors: "Lennon–McCartney" }, { title: "All Things Must Pass", duration: "3:05", authors: "Harrison" }, { title: "Mailman, Bring Me No More Blues", duration: "1:56", authors: "Roberts-Katz-Clayton" }, { title: "Get Back", duration: "3:09", authors: "Lennon–McCartney" }, { title: "Old Brown Shoe", duration: "3:03", authors: "Harrison" }, { title: "Octopus's Garden", duration: "2:49", authors: "Starkey" }, { title: "Maxwell's Silver Hammer", duration: "3:50", authors: "Lennon–McCartney" }, { title: "Something", duration: "3:19", authors: "Harrison" }, { title: "Come Together", duration: "3:40", authors: "Lennon–McCartney" }, { title: "Come and Get It", duration: "2:30", authors: "McCartney" }, { title: "Ain't She Sweet", duration: "2:08", authors: "Ager-Yellen" }, { title: "Because", duration: "2:24", authors: "Lennon–McCartney" }, { title: "Let It Be", duration: "4:05", authors: "Lennon–McCartney" }, { title: "I Me Mine", duration: "1:48", authors: "Harrison" }, { title: "The End", duration: "2:51", authors: "Lennon–McCartney" }
                ]
            },
            {
                type: 'compilation', title: "1", year: 2000,
                cover: "https://www.thebeatles.com/sites/default/files/styles/background_image/public/2021-06/1.jpeg",
                released: "13 November 2000", recorded: "1962–1970", studio: "Various", genre: "Pop, rock", length: "79:08", label: "Apple, Capitol, EMI", producer: "George Martin, Phil Spector",
                songs: [
                    { title: "Love Me Do", duration: "2:22", authors: "Lennon-McCartney" }, { title: "From Me to You", duration: "1:56", authors: "Lennon-McCartney" }, { title: "She Loves You", duration: "2:21", authors: "Lennon-McCartney" }, { title: "I Want to Hold Your Hand", duration: "2:26", authors: "Lennon-McCartney" }, { title: "Can't Buy Me Love", duration: "2:11", authors: "Lennon-McCartney" }, { title: "A Hard Day's Night", duration: "2:34", authors: "Lennon-McCartney" }, { title: "I Feel Fine", duration: "2:19", authors: "Lennon-McCartney" }, { title: "Eight Days a Week", duration: "2:44", authors: "Lennon-McCartney" }, { title: "Ticket to Ride", duration: "3:10", authors: "Lennon-McCartney" }, { title: "Help!", duration: "2:20", authors: "Lennon-McCartney" }, { title: "Yesterday", duration: "2:05", authors: "Lennon-McCartney" }, { title: "Day Tripper", duration: "2:49", authors: "Lennon-McCartney" }, { title: "We Can Work It Out", duration: "2:15", authors: "Lennon-McCartney" }, { title: "Paperback Writer", duration: "2:19", authors: "Lennon-McCartney" }, { title: "Yellow Submarine", duration: "2:39", authors: "Lennon-McCartney" }, { title: "Eleanor Rigby", duration: "2:08", authors: "Lennon-McCartney" }, { title: "Penny Lane", duration: "3:01", authors: "Lennon-McCartney" }, { title: "All You Need Is Love", duration: "3:48", authors: "Lennon-McCartney" }, { title: "Hello, Goodbye", duration: "3:28", authors: "Lennon-McCartney" }, { title: "Lady Madonna", duration: "2:17", authors: "Lennon-McCartney" }, { title: "Hey Jude", duration: "7:08", authors: "Lennon-McCartney" }, { title: "Get Back", duration: "3:14", authors: "Lennon-McCartney" }, { title: "The Ballad of John and Yoko", duration: "2:59", authors: "Lennon-McCartney" }, { title: "Something", duration: "3:03", authors: "Harrison" }, { title: "Come Together", duration: "4:20", authors: "Lennon-McCartney" }, { title: "Let It Be", duration: "3:51", authors: "Lennon-McCartney" }, { title: "The Long and Winding Road", duration: "3:38", authors: "Lennon-McCartney" }
                ]
            },
            {
                type: 'compilation', title: "Love", year: 2006,
                cover: "https://www.thebeatles.com/sites/default/files/styles/background_image/public/2021-06/Love.jpeg",
                released: "20 November 2006", recorded: "2004–2006", studio: "EMI Studios, London", genre: "Mashup, rock", length: "78:36", label: "Apple, Capitol, EMI", producer: "George Martin, Giles Martin",
                songs: [
                    { title: "Because", duration: "2:44", authors: "Lennon-McCartney" }, { title: "Get Back", duration: "2:05", authors: "Lennon-McCartney" }, { title: "Glass Onion", duration: "1:20", authors: "Lennon-McCartney" }, { title: "Eleanor Rigby / Julia (Transition)", duration: "3:05", authors: "Lennon-McCartney" }, { title: "I Am the Walrus", duration: "4:28", authors: "Lennon-McCartney" }, { title: "I Want to Hold Your Hand", duration: "1:26", authors: "Lennon-McCartney" }, { title: "Drive My Car / The Word / What You're Doing", duration: "1:54", authors: "Lennon-McCartney" }, { title: "Gnik Nus", duration: "0:55", authors: "Lennon-McCartney" }, { title: "Something / Blue Jay Way (Transition)", duration: "3:29", authors: "Harrison" }, { title: "Being for the Benefit of Mr. Kite! / I Want You (She's So Heavy) / Helter Skelter", duration: "3:22", authors: "Lennon-McCartney" }, { title: "Help!", duration: "2:18", authors: "Lennon-McCartney" }, { title: "Blackbird / Yesterday", duration: "2:31", authors: "Lennon-McCartney" }, { title: "Strawberry Fields Forever", duration: "4:31", authors: "Lennon-McCartney" }, { title: "Within You Without You / Tomorrow Never Knows", duration: "3:07", authors: "Harrison/Lennon-McCartney" }, { title: "Lucy in the Sky with Diamonds", duration: "4:10", authors: "Lennon-McCartney" }, { title: "Octopus's Garden", duration: "3:18", authors: "Starkey" }, { title: "Lady Madonna", duration: "2:56", authors: "Lennon-McCartney" }, { title: "Here Comes the Sun / The Inner Light (Transition)", duration: "4:18", authors: "Harrison" }, { title: "Come Together / Dear Prudence / Cry Baby Cry (Transition)", duration: "4:45", authors: "Lennon-McCartney" }, { title: "Revolution", duration: "2:14", authors: "Lennon-McCartney" }, { title: "Back in the U.S.S.R.", duration: "1:54", authors: "Lennon-McCartney" }, { title: "While My Guitar Gently Weeps", duration: "3:46", authors: "Harrison" }, { title: "A Day in the Life", duration: "5:08", authors: "Lennon-McCartney" }, { title: "Hey Jude", duration: "3:58", authors: "Lennon-McCartney" }, { title: "Sgt. Pepper's Lonely Hearts Club Band (Reprise)", duration: "1:22", authors: "Lennon-McCartney" }, { title: "All You Need Is Love", duration: "3:38", authors: "Lennon-McCartney" }
                ]
            },
            {
                type: 'compilation', title: "On Air – Live at the BBC Volume 2", year: 2013,
                cover: "https://www.thebeatles.com/sites/default/files/styles/background_image/public/2021-06/OnAir.jpeg",
                released: "11 November 2013", recorded: "1963–1965", studio: "BBC Studios, London", genre: "Rock and roll, beat", length: "135:05", label: "Apple, UMC", producer: "George Martin",
                songs: [
                    { title: "And Here We Are Again", duration: "0:15", authors: "Spoken word" }, { title: "Words of Love", duration: "1:56", authors: "Holly" }, { title: "How About It, Gorgeous?", duration: "0:31", authors: "Spoken word" }, { title: "Do You Want to Know a Secret", duration: "1:48", authors: "Lennon–McCartney" }, { title: "Lucille", duration: "1:48", authors: "Collins-Penniman" }, { title: "Hey, Paul...", duration: "0:22", authors: "Spoken word" }, { title: "Anna (Go to Him)", duration: "2:50", authors: "Alexander" }, { title: "Hello!", duration: "0:19", authors: "Spoken word" }, { title: "Please Please Me", duration: "1:56", authors: "Lennon–McCartney" }, { title: "Misery", duration: "1:50", authors: "Lennon–McCartney" }, { title: "I'm Talking About You", duration: "1:52", authors: "Berry" }, { title: "A Real Treat", duration: "0:38", authors: "Spoken word" }, { title: "Boys", duration: "2:29", authors: "Dixon-Farrell" }, { title: "Absolutely Fab", duration: "0:28", authors: "Spoken word" }, { title: "Chains", duration: "2:15", authors: "Goffin-King" }, { title: "Ask Me Why", duration: "1:54", authors: "Lennon–McCartney" }, { title: "Till There Was You", duration: "2:16", authors: "Willson" }, { title: "Lend Me Your Comb", duration: "1:46", authors: "Twomey-Wise-Weisman" }, { title: "Lower 5E", duration: "0:24", authors: "Spoken word" }, { title: "The Hippy Hippy Shake", duration: "1:46", authors: "Romero" }, { title: "Roll Over Beethoven", duration: "2:22", authors: "Berry" }, { title: "There's a Place", duration: "1:49", authors: "Lennon–McCartney" }, { title: "Bumper Bundle", duration: "0:50", authors: "Spoken word" }, { title: "P.S. I Love You", duration: "2:00", authors: "Lennon–McCartney" }, { title: "Please Mister Postman", duration: "2:17", authors: "Dobbins-Garrett-Gorman-Holland-Bateman" }, { title: "Beautiful Dreamer", duration: "1:46", authors: "Foster" }, { title: "Devil in Her Heart", duration: "2:22", authors: "Drapkin" }, { title: "The 49 Weeks", duration: "0:17", authors: "Spoken word" }, { title: "Sure to Fall (In Love with You)", duration: "2:21", authors: "Perkins-Claunch-Cantrell" }, { title: "Never Mind, Eh?", duration: "0:36", authors: "Spoken word" }, { title: "Twist and Shout", duration: "2:25", authors: "Medley-Russell" }, { title: "Bye, Bye", duration: "0:25", authors: "Spoken word" }, { title: "John - Pop Profile", duration: "8:22", authors: "Spoken word" }, { title: "George - Pop Profile", duration: "8:06", authors: "Spoken word" }
                ]
            },
            {
                type: 'compilation', title: "Live at the Hollywood Bowl", year: 2016,
                cover: "https://www.thebeatles.com/sites/default/files/styles/background_image/public/2021-06/HollywoodBowl.jpeg",
                released: "9 September 2016", recorded: "23 August 1964 & 30 August 1965", studio: "Hollywood Bowl, LA", genre: "Rock and roll", length: "43:27", label: "Apple, UMG", producer: "Giles Martin",
                songs: [
                    { title: "Twist and Shout", duration: "1:33", authors: "Medley-Russell" }, { title: "She's a Woman", duration: "2:53", authors: "Lennon-McCartney" }, { title: "Dizzy Miss Lizzy", duration: "3:11", authors: "Williams" }, { title: "Ticket to Ride", duration: "2:26", authors: "Lennon-McCartney" }, { title: "Can't Buy Me Love", duration: "2:15", authors: "Lennon-McCartney" }, { title: "Things We Said Today", duration: "2:18", authors: "Lennon-McCartney" }, { title: "Roll Over Beethoven", duration: "2:10", authors: "Berry" }, { title: "Boys", duration: "2:12", authors: "Dixon-Farrell" }, { title: "A Hard Day's Night", duration: "2:43", authors: "Lennon-McCartney" }, { title: "Help!", duration: "2:46", authors: "Lennon-McCartney" }, { title: "All My Loving", duration: "2:15", authors: "Lennon-McCartney" }, { title: "She Loves You", duration: "2:31", authors: "Lennon-McCartney" }, { title: "Long Tall Sally", duration: "2:04", authors: "Johnson-Penniman-Blackwell" }, { title: "You Can't Do That", duration: "2:34", authors: "Lennon-McCartney" }, { title: "I Want to Hold Your Hand", duration: "2:29", authors: "Lennon-McCartney" }, { title: "Everybody's Trying to Be My Baby", duration: "2:21", authors: "Perkins" }, { title: "Baby's in Black", duration: "2:44", authors: "Lennon-McCartney" }
                ]
            },
            {
                type: 'compilation', title: "Now and Then (Single)", year: 2023,
                cover: "https://www.thebeatles.com/sites/default/files/styles/background_image/public/2023-10/NATcover.jpeg",
                released: "2 November 2023", recorded: "1977, 1995, 2022", studio: "Various", genre: "Pop", length: "4:08", label: "Apple, Capitol, UMe", producer: "Paul McCartney, Giles Martin",
                songs: [
                    { title: "Now and Then", duration: "4:08", authors: "Lennon-McCartney-Harrison-Starkey", recordDate: "2022-01-01", releaseDate: "2023-11-02" },
                ]
            }
        ];

        // --- RATING-SPECIFIC DATA ---
        const getRatingAlbums = () => {
            const studioAlbums = beatlesData.filter(album => album.type === 'studio');
            const pastMasters = beatlesData.find(album => album.title === 'Past Masters');
            
            const reunionSingles = {
                type: 'compilation',
                title: "Reunion Songs",
                year: "1995-2023",
                songs: [
                    beatlesData.find(a => a.title === 'Anthology 1').songs.find(s => s.title === 'Free as a Bird'),
                    beatlesData.find(a => a.title === 'Anthology 2').songs.find(s => s.title === 'Real Love'),
                    beatlesData.find(a => a.title === 'Now and Then (Single)').songs.find(s => s.title === 'Now and Then')
                ].filter(Boolean) 
            };

            return [...studioAlbums, pastMasters, reunionSingles];
        };
        const ratingAlbums = getRatingAlbums();

        // --- FIREBASE & STATE GLOBALS ---
        let db, auth, rankingsUnsubscribe = null, battleRankingsUnsubscribe = null;
        let globalRankings = [], globalBattleRankings = [], allSongsTimeline = [];
        let pendingRatings = {};
        
        let songRankingMode = 'rating';
        let albumRankingMode = 'rating';
        let songSortConfig = { key: 'averageRating', direction: 'desc' };
        let albumSortConfig = { key: 'avgRating', direction: 'desc' };

        let timelineSortConfig = { key: 'recordDate', direction: 'asc' };
        let battleState = {
            pairings: [],
            currentIndex: 0,
            results: {},
            selectedSongs: []
        };
        
        // --- UTILS ---
        const slugify = (text) => text.toLowerCase().replace(/\s+/g, '-').replace(/[^\w-]+/g, '');

        // --- RENDER FUNCTIONS ---
        const renderDiscography = () => {
            const studioGrid = document.getElementById('studio-albums-grid');
            const compilationsGrid = document.getElementById('compilations-grid');
            studioGrid.innerHTML = '';
            compilationsGrid.innerHTML = '';

            beatlesData.forEach(album => {
                const card = document.createElement('div');
                card.className = 'album-card bg-white border border-gray-200 rounded-lg shadow-md overflow-hidden cursor-pointer';
                card.innerHTML = `<img src="${album.cover}" alt="[Cover of ${album.title}]" class="w-full h-auto aspect-square object-cover" onerror="this.onerror=null;this.src='https://placehold.co/400x400/e5e7eb/374151?text=No+Image';"><div class="p-4"><h3 class="font-bold text-black">${album.title}</h3><p class="text-sm text-gray-600">${album.year}</p></div>`;
                card.addEventListener('click', () => showAlbumModal(album));
                if (album.type === 'studio') studioGrid.appendChild(card); else compilationsGrid.appendChild(card);
            });
        };
        
        const showAlbumModal = (album) => {
            const modal = document.getElementById('album-modal');
            const modalContent = document.getElementById('modal-content-host');
            const songsHTML = album.songs.map((song, index) => `<li class="py-3 flex justify-between items-center text-sm border-b border-gray-200 last:border-b-0"><div class="flex items-start"><span class="w-8 text-gray-400 font-light pt-px">${index + 1}.</span><div><p class="font-medium text-gray-900">${song.title}</p><p class="text-xs text-gray-600">${song.authors}</p></div></div><span class="text-gray-500 font-mono">${song.duration}</span></li>`).join('');
            const detailsHTML = `<div class="mt-4 p-4 bg-gray-50 rounded-lg text-xs text-gray-700 space-y-2 border"><p><strong class="font-medium text-gray-800">Released:</strong> ${album.released || 'N/A'}</p><p><strong class="font-medium text-gray-800">Recorded:</strong> ${album.recorded || 'N/A'}</p><p><strong class="font-medium text-gray-800">Studio:</strong> ${album.studio || 'N/A'}</p><p><strong class="font-medium text-gray-800">Genre:</strong> ${album.genre || 'N/A'}</p><p><strong class="font-medium text-gray-800">Length:</strong> ${album.length || 'N/A'}</p><p><strong class="font-medium text-gray-800">Label:</strong> ${album.label || 'N/A'}</p><p><strong class="font-medium text-gray-800">Producer:</strong> ${album.producer || 'N/A'}</p></div>`;
            modalContent.innerHTML = `<button id="close-modal" class="absolute top-4 right-4 text-gray-500 hover:text-black text-2xl z-10">&times;</button><div class="flex flex-col sm:flex-row gap-6"><div class="w-full sm:w-2/5"><img src="${album.cover}" alt="[Cover of ${album.title}]" class="w-full rounded-lg shadow-lg" onerror="this.onerror=null;this.src='https://placehold.co/400x400/e5e7eb/374151?text=No+Image';">${detailsHTML}</div><div class="w-full sm:w-3/5"><h2 class="text-3xl font-bold text-black mb-1">${album.title}</h2><p class="text-lg text-blue-600 mb-4">${album.year}</p><h3 class="text-xl font-semibold text-black mb-2">Tracklist</h3><ul class="max-h-[28rem] overflow-y-auto pr-2">${songsHTML}</ul></div></div>`;
            modal.style.display = 'block';
            document.getElementById('close-modal').addEventListener('click', () => modal.style.display = 'none');
            window.onclick = (event) => { if (event.target == modal) modal.style.display = "none"; }
        };

        const setupRatingSection = () => {
            const select = document.getElementById('album-select');
            if (!select) return; 
            const allSongsOption = document.createElement('option');
            allSongsOption.value = 'All Songs';
            allSongsOption.textContent = 'All Songs';
            select.appendChild(allSongsOption);
            ratingAlbums.forEach(album => {
                const option = document.createElement('option');
                option.value = album.title;
                option.textContent = `${album.title} (${album.year})`;
                select.appendChild(option);
            });
            select.addEventListener('change', (e) => displaySongsForRating(e.target.value));
        };
        
        const displaySongsForRating = (albumTitle) => {
            const ratingArea = document.getElementById('rating-interaction-area');
            const ratingPrompt = document.getElementById('rating-prompt');
            const tbody = document.getElementById('song-list-for-rating-body');
            pendingRatings = {}; 
            if (albumTitle === 'Select to see songs...') {
                ratingArea.classList.add('hidden');
                ratingPrompt.classList.remove('hidden');
                tbody.innerHTML = '';
                return;
            }
            let songsToRate = [];
            if (albumTitle === 'All Songs') {
                songsToRate = ratingAlbums.flatMap(album => album.songs.map(song => song ? {...song, originalAlbumTitle: album.title} : null).filter(Boolean));
            } else {
                const album = ratingAlbums.find(a => a.title === albumTitle);
                if (album && album.songs) songsToRate = album.songs.map(song => song ? {...song, originalAlbumTitle: album.title} : null).filter(Boolean);
            }
            ratingArea.classList.remove('hidden');
            ratingPrompt.classList.add('hidden');
            tbody.innerHTML = songsToRate.map(song => {
                const songId = slugify(`${song.originalAlbumTitle}-${song.title}`);
                const authors = song.authors || 'N/A';
                const displayAlbum = albumTitle === 'All Songs' ? `<p class="text-xs text-gray-500 italic">${song.originalAlbumTitle}</p>` : '';
                return `<tr class="hover:bg-gray-50"><td class="px-4 py-3 align-middle"><p class="font-medium text-gray-900">${song.title}</p>${displayAlbum || `<p class="text-xs text-gray-600">${authors}</p>`}</td><td class="px-4 py-3 align-middle"><div class="star-rating text-gray-400 text-lg flex flex-wrap justify-end" data-song-id="${songId}" data-song-title="${song.title}" data-album-title="${song.originalAlbumTitle}">${[...Array(10)].map((_, i) => `<i class="fas fa-star px-1" data-value="${i + 1}"></i>`).join('')}</div></td></tr>`;
            }).join('');
        };
        
        const handleLocalRating = (e) => {
            if (!e.target.matches('.fa-star')) return;
            const rating = parseInt(e.target.dataset.value);
            const starContainer = e.target.parentElement;
            const songId = starContainer.dataset.songId;
            const songTitle = starContainer.dataset.songTitle;
            const albumTitle = starContainer.dataset.albumTitle;
            pendingRatings[songId] = { rating, songTitle, albumTitle };
            const stars = starContainer.querySelectorAll('.fa-star');
            stars.forEach(star => { star.classList.toggle('selected', parseInt(star.dataset.value) <= rating); });
        };

        const savePendingRatings = async () => {
            const btn = document.getElementById('save-ratings-btn');
            if (!db || Object.keys(pendingRatings).length === 0) return;
            btn.disabled = true;
            btn.textContent = 'Saving...';
            const collectionPath = 'beatles_song_ratings';
            const ratingsToSave = Object.entries(pendingRatings);
            for (const [songId, data] of ratingsToSave) {
                const songRef = doc(db, collectionPath, songId);
                try {
                    await runTransaction(db, async (transaction) => {
                        const songDoc = await transaction.get(songRef);
                        let newNumRatings = 1; let newTotalStars = data.rating;
                        if (songDoc.exists()) { const existingData = songDoc.data(); newNumRatings = (existingData.numRatings || 0) + 1; newTotalStars = (existingData.totalStars || 0) + data.rating; }
                        const newAverage = newTotalStars / newNumRatings;
                        transaction.set(songRef, { songTitle: data.songTitle, albumTitle: data.albumTitle, numRatings: newNumRatings, totalStars: newTotalStars, averageRating: newAverage }, { merge: true });
                    });
                } catch (error) { console.error("Transaction failed for songId: ", songId, error); }
            }
            pendingRatings = {};
            btn.textContent = 'Ratings Saved!';
            setTimeout(() => { btn.textContent = 'Save Ratings'; btn.disabled = false; }, 2000);
        };

        const listenForRankings = () => {
            if (!db) return;
            if(rankingsUnsubscribe) rankingsUnsubscribe();
            rankingsUnsubscribe = onSnapshot(query(collection(db, 'beatles_song_ratings')), (snapshot) => {
                globalRankings = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                renderAllRankings();
            }, (error) => console.error("Error listening for ratings:", error));
            
            if(battleRankingsUnsubscribe) battleRankingsUnsubscribe();
            battleRankingsUnsubscribe = onSnapshot(query(collection(db, 'beatles_battle_rankings')), (snapshot) => {
                globalBattleRankings = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                renderAllRankings();
            }, (error) => console.error("Error listening for battle rankings:", error));
        };
        
        const sortData = (data, config) => {
            const { key, direction } = config;
            return [...data].sort((a, b) => {
                let valA = a[key]; let valB = b[key];
                if (key.includes('Date')) { // Handle date sorting
                    valA = new Date(valA);
                    valB = new Date(valB);
                }
                if (valA === undefined || valA === null) return 1; if (valB === undefined || valB === null) return -1;
                
                let comparison = 0;
                if (valA instanceof Date) {
                    comparison = valA - valB;
                } else if (typeof valA === 'number' && typeof valB === 'number') { 
                    comparison = valA - valB; 
                } else { 
                    comparison = valA.toString().localeCompare(valB.toString()); 
                }
                return direction === 'asc' ? comparison : -comparison;
            });
        };

        const updateSortIcons = (tableHead, config) => {
            if (!tableHead) return;
            tableHead.querySelectorAll('th[data-sort]').forEach(th => {
                const iconSpan = th.querySelector('.sort-icon');
                if (th.dataset.sort === config.key) { iconSpan.innerHTML = config.direction === 'asc' ? ' <i class="fas fa-arrow-up text-xs"></i>' : ' <i class="fas fa-arrow-down text-xs"></i>'; } else { iconSpan.innerHTML = ''; }
            });
        };
        
        const renderTimelineTable = () => {
            const tbody = document.getElementById('timeline-table-body');
            const sortedSongs = sortData(allSongsTimeline, timelineSortConfig);

            tbody.innerHTML = sortedSongs.map(song => `
                <tr class="hover:bg-gray-50">
                    <td class="px-6 py-4 font-medium text-gray-900">${song.title}</td>
                    <td class="px-6 py-4">${song.albumTitle}</td>
                    <td class="px-6 py-4">${song.recordDate}</td>
                    <td class="px-6 py-4">${song.releaseDate}</td>
                </tr>
            `).join('');
            updateSortIcons(document.getElementById('timeline-table-head'), timelineSortConfig);
        };

        const downloadTimelineCSV = () => {
            if (allSongsTimeline.length === 0) return;
            let csvContent = "data:text/csv;charset=utf-8,Song,Album,Recording Date,Release Date\r\n";
            const sortedSongs = sortData(allSongsTimeline, timelineSortConfig);
            sortedSongs.forEach(song => {
                const row = [`"${song.title.replace(/"/g, '""')}"`, `"${song.albumTitle.replace(/"/g, '""')}"`, song.recordDate, song.releaseDate].join(",");
                csvContent += row + "\r\n";
            });
            const link = document.createElement("a");
            link.setAttribute("href", encodeURI(csvContent));
            link.setAttribute("download", "beatles_timeline.csv");
            document.body.appendChild(link); link.click(); document.body.removeChild(link);
        };
        
        const copyTimelineTable = () => {
            const btn = document.getElementById('copy-timeline-btn');
            if (allSongsTimeline.length === 0) return;
            const sortedSongs = sortData(allSongsTimeline, timelineSortConfig);
            const textToCopy = "Song\tAlbum\tRecording Date\tRelease Date\n" + sortedSongs.map(s => `${s.title}\t${s.albumTitle}\t${s.recordDate}\t${s.releaseDate}`).join("\n");
            
            navigator.clipboard.writeText(textToCopy).then(() => {
                btn.innerHTML = '<i class="fas fa-check mr-2"></i>Copied!';
                setTimeout(() => { btn.innerHTML = '<i class="fas fa-copy mr-2"></i>Copy Table'; }, 2000);
            }, (err) => { console.error('Could not copy text: ', err); });
        };


        const downloadCSV = () => {
            if (globalRankings.length === 0) return;
            let csvContent = "data:text/csv;charset=utf-8,Rank,Song,Album,Average Rating,Votes\r\n";
            const sortedRankings = sortData(globalRankings, songSortConfig);
            sortedRankings.forEach((song, index) => {
                const row = [index + 1, `"${song.songTitle.replace(/"/g, '""')}"`, `"${song.albumTitle.replace(/"/g, '""')}"`, (song.averageRating || 0).toFixed(2), song.numRatings || 0].join(",");
                csvContent += row + "\r\n";
            });
            const link = document.createElement("a");
            link.setAttribute("href", encodeURI(csvContent));
            link.setAttribute("download", "beatles_song_rankings.csv");
            document.body.appendChild(link); link.click(); document.body.removeChild(link);
        };
        
        const downloadAlbumCSV = () => {
            if (globalAlbumRankings.length === 0) return;
            let csvContent = "data:text/csv;charset=utf-8,Album,Year,Average Rating\r\n";
            const sortedAlbums = sortData(globalAlbumRankings, albumSortConfig);
            sortedAlbums.forEach(album => {
                const row = [
                    `"${album.title.replace(/"/g, '""')}"`,
                    album.year,
                    album.avgRating.toFixed(2)
                ].join(",");
                csvContent += row + "\r\n";
            });
            const link = document.createElement("a");
            link.setAttribute("href", encodeURI(csvContent));
            link.setAttribute("download", "beatles_album_rankings.csv");
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        };

        // --- BATTLEGROUND FUNCTIONS ---
        const setupBattleground = () => {
            const select = document.getElementById('battle-album-select');
            if (!select) return;
            select.innerHTML = '<option selected>Select an album...</option>';
            const allSongsOption = document.createElement('option');
            allSongsOption.value = 'All Songs';
            allSongsOption.textContent = 'All Songs';
            select.appendChild(allSongsOption);
            ratingAlbums.forEach(album => {
                const option = document.createElement('option');
                option.value = album.title;
                option.textContent = `${album.title} (${album.year})`;
                select.appendChild(option);
            });
            select.addEventListener('change', (e) => renderBattleSelectionTable(e.target.value));
            document.getElementById('select-all-battle-songs').addEventListener('change', (e) => {
                document.querySelectorAll('#battle-selection-body input[type="checkbox"]').forEach(checkbox => { checkbox.checked = e.target.checked; });
                updateSelectedSongsCount();
            });
        };

        const renderBattleSelectionTable = (albumTitle) => {
            const tbody = document.getElementById('battle-selection-body');
            let songsToDisplay = [];
            if (albumTitle === 'All Songs') {
                songsToDisplay = ratingAlbums.flatMap(album => album.songs.map(song => song ? {...song, originalAlbumTitle: album.title} : null).filter(Boolean));
            } else if (albumTitle !== 'Select an album...') {
                const album = ratingAlbums.find(a => a.title === albumTitle);
                if (album && album.songs) songsToDisplay = album.songs.map(song => song ? {...song, originalAlbumTitle: album.title} : null).filter(Boolean);
            }
            if (songsToDisplay.length === 0) { tbody.innerHTML = '<tr><td colspan="3" class="p-6 text-center">Select an album to see songs.</td></tr>'; return; }
            tbody.innerHTML = songsToDisplay.map(song => {
                const songId = slugify(`${song.originalAlbumTitle}-${song.title}`);
                return `<tr class="hover:bg-gray-50"><td class="p-4"><input type="checkbox" class="battle-song-checkbox" data-song-id="${songId}" data-song-info="${encodeURIComponent(JSON.stringify(song))}"></td><td class="px-6 py-4 font-medium text-gray-900">${song.title}</td><td class="px-6 py-4">${song.originalAlbumTitle}</td></tr>`;
            }).join('');
        };
        
        const updateSelectedSongsCount = () => {
            const count = document.querySelectorAll('#battle-selection-body input[type="checkbox"]:checked').length;
            document.getElementById('selected-songs-count').textContent = count;
            document.getElementById('start-battle-btn').disabled = count < 2;
        };
        
        const startBattle = () => {
            battleState.selectedSongs = [];
            document.querySelectorAll('#battle-selection-body input:checked').forEach(checkbox => { battleState.selectedSongs.push(JSON.parse(decodeURIComponent(checkbox.dataset.songInfo))); });
            if (battleState.selectedSongs.length < 2) return;
            battleState.pairings = [];
            for (let i = 0; i < battleState.selectedSongs.length; i++) {
                for (let j = i + 1; j < battleState.selectedSongs.length; j++) { battleState.pairings.push([battleState.selectedSongs[i], battleState.selectedSongs[j]]); }
            }
            battleState.pairings.sort(() => Math.random() - 0.5);
            battleState.currentIndex = 0;
            battleState.results = battleState.selectedSongs.reduce((acc, song) => {
                const songId = slugify(`${song.originalAlbumTitle}-${song.title}`);
                acc[songId] = { wins: 0, losses: 0, song }; return acc;
            }, {});
            document.getElementById('battle-setup-view').classList.add('hidden');
            document.getElementById('battle-active-view').classList.remove('hidden');
            displayCurrentBattle();
        };

        const displayCurrentBattle = () => {
            if (battleState.currentIndex >= battleState.pairings.length) { finishBattle(); return; }
            document.getElementById('current-battle-number').textContent = battleState.currentIndex + 1;
            document.getElementById('total-battle-number').textContent = battleState.pairings.length;
            const [songA, songB] = battleState.pairings[battleState.currentIndex];
            const cardA = document.getElementById('song-a-card');
            const cardB = document.getElementById('song-b-card');
            cardA.innerHTML = `<h3 class="text-xl font-bold">${songA.title}</h3><p class="text-sm text-gray-500">${songA.originalAlbumTitle}</p>`;
            cardB.innerHTML = `<h3 class="text-xl font-bold">${songB.title}</h3><p class="text-sm text-gray-500">${songB.originalAlbumTitle}</p>`;
            cardA.onclick = () => handleBattleChoice(songA, songB);
            cardB.onclick = () => handleBattleChoice(songB, songA);
        };

        const handleBattleChoice = (winner, loser) => {
            const winnerId = slugify(`${winner.originalAlbumTitle}-${winner.title}`);
            const loserId = slugify(`${loser.originalAlbumTitle}-${loser.title}`);
            battleState.results[winnerId].wins++;
            battleState.results[loserId].losses++;
            battleState.currentIndex++;
            displayCurrentBattle();
        };

        const finishBattle = async () => {
            document.getElementById('battle-active-view').classList.add('hidden');
            document.getElementById('battle-results-view').classList.remove('hidden');
            const finalResults = Object.values(battleState.results).sort((a, b) => b.wins - a.wins);
            const resultsBody = document.getElementById('battle-results-body');
            resultsBody.innerHTML = finalResults.map((res, index) => {
                const winRate = res.wins + res.losses > 0 ? (res.wins / (res.wins + res.losses) * 100).toFixed(1) : "0.0";
                return `<tr class="border-b hover:bg-gray-50"><td class="px-6 py-4">${index + 1}</td><td class="px-6 py-4 font-medium text-gray-900">${res.song.title}</td><td class="px-6 py-4">${res.wins}</td><td class="px-6 py-4">${res.losses}</td><td class="px-6 py-4">${winRate}%</td></tr>`;
            }).join('');

            if (!db) return;
            const collectionPath = 'beatles_battle_rankings';
            for (const id in battleState.results) {
                const res = battleState.results[id];
                const songRef = doc(db, collectionPath, id);
                try {
                     await runTransaction(db, async (transaction) => {
                        const songDoc = await transaction.get(songRef);
                        let totalWins = res.wins; let totalBattles = res.wins + res.losses;
                        if (songDoc.exists()) { const data = songDoc.data(); totalWins += (data.totalWins || 0); totalBattles += (data.totalBattles || 0); }
                        transaction.set(songRef, { songTitle: res.song.title, albumTitle: res.song.originalAlbumTitle, totalWins, totalBattles }, { merge: true });
                    });
                } catch(e) { console.error("Failed to save battle result for", id, e); }
            }
        };

        const setupSongRankingFilter = () => {
            const select = document.getElementById('song-ranking-filter');
            if (!select) return;

            select.innerHTML = '';
            const allSongsOption = document.createElement('option');
            allSongsOption.value = 'All Songs';
            allSongsOption.textContent = 'Filter by Album: All';
            select.appendChild(allSongsOption);

            ratingAlbums.forEach(album => {
                const option = document.createElement('option');
                option.value = album.title;
                option.textContent = album.title;
                select.appendChild(option);
            });
            select.addEventListener('change', () => renderAllRankings());
        };
        
        const resetDatabase = async () => {
            if(!db) return;
            const btn = document.getElementById('confirm-reset-btn');
            btn.disabled = true;
            btn.textContent = "Deleting...";

            const collectionsToDelete = ['beatles_song_ratings', 'beatles_battle_rankings'];
            try {
                for(const coll of collectionsToDelete) {
                    const q = query(collection(db, coll));
                    const snapshot = await getDocs(q);
                    const batch = writeBatch(db);
                    snapshot.docs.forEach(doc => batch.delete(doc.ref));
                    await batch.commit();
                    console.log(`Collection ${coll} has been cleared.`);
                }
                alert("All rankings and battle data have been reset.");
                location.reload();
            } catch (e) {
                console.error("Error resetting database: ", e);
                alert("An error occurred while trying to reset the data.");
                btn.disabled = false;
                btn.textContent = "Confirm Deletion";
            }
        };

        // --- NEW RANKING RENDER LOGIC ---
        function renderAllRankings() {
             renderSongRankingTable();
             renderAlbumRankingTable();
        }

        function getCombinedData() {
            const battleMap = globalBattleRankings.reduce((acc, curr) => {
                acc[curr.id] = curr;
                return acc;
            }, {});

            return globalRankings.map(song => {
                const battleData = battleMap[song.id];
                const winRate = (battleData && battleData.totalBattles > 0) ? (battleData.totalWins / battleData.totalBattles) * 100 : 0;
                const overallScore = (song.averageRating * 0.6) + (winRate / 10 * 0.4); // 60% rating, 40% battle
                return {
                    ...song,
                    winRate: winRate,
                    totalBattles: battleData ? battleData.totalBattles : 0,
                    overallScore: overallScore
                };
            });
        }
        
        function renderSongRankingTable() {
            const container = document.getElementById('song-ranking-tables-container');
            const filterEl = document.getElementById('song-ranking-filter');
            if (!container || !filterEl) return;
            const albumFilter = filterEl.value;
            const combinedData = getCombinedData();

            let dataToDisplay = combinedData;
            if (albumFilter && albumFilter !== 'All Songs') {
                dataToDisplay = combinedData.filter(song => song.albumTitle === albumFilter);
            }

            let tableHTML = '';
            if (songRankingMode === 'rating') {
                songSortConfig.key = songSortConfig.key === 'winRate' || songSortConfig.key === 'overallScore' ? 'averageRating' : songSortConfig.key;
                const sortedData = sortData(dataToDisplay, songSortConfig);
                tableHTML = `<div class="overflow-x-auto"><table class="w-full text-sm text-left text-gray-600"><thead class="text-xs text-gray-700 uppercase bg-gray-50" id="song-rating-head"><tr><th class="px-4 py-3">#</th><th class="px-4 py-3" data-sort="songTitle">Song <span class="sort-icon"></span></th><th class="px-4 py-3" data-sort="albumTitle">Album <span class="sort-icon"></span></th><th class="px-4 py-3 text-center" data-sort="averageRating">Avg. Rating <span class="sort-icon"></span></th><th class="px-4 py-3 text-center" data-sort="numRatings">Votes <span class="sort-icon"></span></th></tr></thead><tbody>
                    ${sortedData.length === 0 ? '<tr><td colspan="5" class="text-center p-6">No data for this selection.</td></tr>' : sortedData.map((song, index) => `
                        <tr class="border-b hover:bg-gray-50"><td class="px-4 py-3 font-medium text-gray-900">${index + 1}</td><td class="px-4 py-3 font-medium text-gray-900 whitespace-nowrap">${song.songTitle}</td><td class="px-4 py-3">${song.albumTitle}</td><td class="px-4 py-3 text-center"><span class="font-bold text-yellow-500">${(song.averageRating || 0).toFixed(2)}</span></td><td class="px-4 py-3 text-center">${song.numRatings || 0}</td></tr>`).join('')}
                </tbody></table></div>`;
            } else if (songRankingMode === 'battleground') {
                 songSortConfig.key = songSortConfig.key !== 'winRate' ? 'winRate' : songSortConfig.key;
                 const sortedData = sortData(dataToDisplay.filter(s => s.totalBattles > 0), songSortConfig);
                 tableHTML = `<div class="overflow-x-auto"><table class="w-full text-sm text-left text-gray-600"><thead class="text-xs text-gray-700 uppercase bg-gray-50" id="song-battle-head"><tr><th class="px-4 py-3">#</th><th class="px-4 py-3" data-sort="songTitle">Song <span class="sort-icon"></span></th><th class="px-4 py-3" data-sort="albumTitle">Album <span class="sort-icon"></span></th><th class="px-4 py-3 text-center" data-sort="winRate">Win Rate <span class="sort-icon"></span></th><th class="px-4 py-3 text-center" data-sort="totalBattles">Battles <span class="sort-icon"></span></th></tr></thead><tbody>
                    ${sortedData.length === 0 ? '<tr><td colspan="5" class="text-center p-6">No battleground data yet.</td></tr>' : sortedData.map((song, index) => `
                        <tr class="border-b hover:bg-gray-50"><td class="px-4 py-3 font-medium text-gray-900">${index + 1}</td><td class="px-4 py-3 font-medium text-gray-900 whitespace-nowrap">${song.songTitle}</td><td class="px-4 py-3">${song.albumTitle}</td><td class="px-4 py-3 text-center"><span class="font-bold text-red-500">${(song.winRate || 0).toFixed(2)}%</span></td><td class="px-4 py-3 text-center">${song.totalBattles || 0}</td></tr>`).join('')}
                </tbody></table></div>`;
            } else { // Overall
                 songSortConfig.key = songSortConfig.key !== 'overallScore' ? 'overallScore' : songSortConfig.key;
                 const sortedData = sortData(dataToDisplay, songSortConfig);
                 tableHTML = `<div class="overflow-x-auto"><table class="w-full text-sm text-left text-gray-600"><thead class="text-xs text-gray-700 uppercase bg-gray-50" id="song-overall-head"><tr><th class="px-4 py-3">#</th><th class="px-4 py-3" data-sort="songTitle">Song <span class="sort-icon"></span></th><th class="px-4 py-3" data-sort="albumTitle">Album <span class="sort-icon"></span></th><th class="px-4 py-3 text-center" data-sort="averageRating">Avg. Rating <span class="sort-icon"></span></th><th class="px-4 py-3 text-center" data-sort="winRate">Win Rate <span class="sort-icon"></span></th><th class="px-4 py-3 text-center" data-sort="overallScore">Overall Score <span class="sort-icon"></span></th></tr></thead><tbody>
                    ${sortedData.length === 0 ? '<tr><td colspan="6" class="text-center p-6">No data for this selection.</td></tr>' : sortedData.map((song, index) => `
                        <tr class="border-b hover:bg-gray-50"><td class="px-4 py-3 font-medium text-gray-900">${index + 1}</td><td class="px-4 py-3 font-medium text-gray-900 whitespace-nowrap">${song.songTitle}</td><td class="px-4 py-3">${song.albumTitle}</td><td class="px-4 py-3 text-center">${(song.averageRating || 0).toFixed(2)}</td><td class="px-4 py-3 text-center">${(song.winRate || 0).toFixed(2)}%</td><td class="px-4 py-3 text-center"><span class="font-bold text-purple-600">${(song.overallScore || 0).toFixed(2)}</span></td></tr>`).join('')}
                </tbody></table></div>`;
            }
            container.innerHTML = tableHTML;
            updateSortIcons(container.querySelector('thead'), songSortConfig);
        }
        
        // Similar functions for Album Ranking...
        function renderAlbumRankingTable() { 
             /* This function is now fully implemented below */
            const container = document.getElementById('album-ranking-tables-container');
            if (!container) return;

            const combinedSongData = getCombinedData();
            const albumsByTitle = combinedSongData.reduce((acc, song) => {
                if (!acc[song.albumTitle]) {
                    const albumInfo = ratingAlbums.find(a => a.title === song.albumTitle);
                    acc[song.albumTitle] = { songs: [], year: albumInfo ? albumInfo.year : 'N/A' };
                }
                acc[song.albumTitle].songs.push(song);
                return acc;
            }, {});

            const albumData = Object.entries(albumsByTitle).map(([title, data]) => {
                const totalRatingSum = data.songs.reduce((sum, song) => sum + (song.averageRating || 0), 0);
                const avgRating = data.songs.length > 0 ? totalRatingSum / data.songs.length : 0;
                
                const totalWinRateSum = data.songs.reduce((sum, song) => sum + (song.winRate || 0), 0);
                const avgWinRate = data.songs.length > 0 ? totalWinRateSum / data.songs.length : 0;

                const totalOverallScoreSum = data.songs.reduce((sum, song) => sum + (song.overallScore || 0), 0);
                const avgOverallScore = data.songs.length > 0 ? totalOverallScoreSum / data.songs.length : 0;

                return { title, year: data.year, avgRating, avgWinRate, avgOverallScore };
            });

            let tableHTML = '';
             if (albumRankingMode === 'rating') {
                albumSortConfig.key = 'avgRating';
                const sortedData = sortData(albumData, albumSortConfig);
                tableHTML = `<div class="overflow-x-auto"><table class="w-full text-sm text-left text-gray-600"><thead class="text-xs text-gray-700 uppercase bg-gray-50" id="album-rating-head"><tr><th class="px-4 py-3" data-sort="title">Album <span class="sort-icon"></span></th><th class="px-4 py-3" data-sort="year">Year <span class="sort-icon"></span></th><th class="px-4 py-3 text-center" data-sort="avgRating">Avg. Rating <span class="sort-icon"></span></th></tr></thead><tbody>
                    ${sortedData.length === 0 ? '<tr><td colspan="3" class="text-center p-6">No data.</td></tr>' : sortedData.map(album => `
                        <tr class="border-b hover:bg-gray-50"><td class="px-4 py-3 font-medium text-gray-900">${album.title}</td><td class="px-4 py-3">${album.year}</td><td class="px-4 py-3 text-center font-bold text-yellow-500">${album.avgRating.toFixed(2)}</td></tr>`).join('')}
                </tbody></table></div>`;
            } else if (albumRankingMode === 'battleground') {
                albumSortConfig.key = 'avgWinRate';
                const sortedData = sortData(albumData, albumSortConfig);
                 tableHTML = `<div class="overflow-x-auto"><table class="w-full text-sm text-left text-gray-600"><thead class="text-xs text-gray-700 uppercase bg-gray-50" id="album-battle-head"><tr><th class="px-4 py-3" data-sort="title">Album <span class="sort-icon"></span></th><th class="px-4 py-3" data-sort="year">Year <span class="sort-icon"></span></th><th class="px-4 py-3 text-center" data-sort="avgWinRate">Avg. Win Rate <span class="sort-icon"></span></th></tr></thead><tbody>
                    ${sortedData.length === 0 ? '<tr><td colspan="3" class="text-center p-6">No data.</td></tr>' : sortedData.map(album => `
                        <tr class="border-b hover:bg-gray-50"><td class="px-4 py-3 font-medium text-gray-900">${album.title}</td><td class="px-4 py-3">${album.year}</td><td class="px-4 py-3 text-center font-bold text-red-500">${album.avgWinRate.toFixed(2)}%</td></tr>`).join('')}
                </tbody></table></div>`;
            } else { // Overall
                albumSortConfig.key = 'avgOverallScore';
                const sortedData = sortData(albumData, albumSortConfig);
                 tableHTML = `<div class="overflow-x-auto"><table class="w-full text-sm text-left text-gray-600"><thead class="text-xs text-gray-700 uppercase bg-gray-50" id="album-overall-head"><tr><th class="px-4 py-3" data-sort="title">Album <span class="sort-icon"></span></th><th class="px-4 py-3" data-sort="year">Year <span class="sort-icon"></span></th><th class="px-4 py-3 text-center" data-sort="avgRating">Avg. Rating <span class="sort-icon"></span></th><th class="px-4 py-3 text-center" data-sort="avgWinRate">Avg. Win Rate <span class="sort-icon"></span></th><th class="px-4 py-3 text-center" data-sort="avgOverallScore">Overall Score <span class="sort-icon"></span></th></tr></thead><tbody>
                    ${sortedData.length === 0 ? '<tr><td colspan="5" class="text-center p-6">No data.</td></tr>' : sortedData.map(album => `
                        <tr class="border-b hover:bg-gray-50"><td class="px-4 py-3 font-medium text-gray-900">${album.title}</td><td class="px-4 py-3">${album.year}</td><td class="px-4 py-3 text-center">${album.avgRating.toFixed(2)}</td><td class="px-4 py-3 text-center">${album.avgWinRate.toFixed(2)}%</td><td class="px-4 py-3 text-center font-bold text-purple-600">${album.avgOverallScore.toFixed(2)}</td></tr>`).join('')}
                </tbody></table></div>`;
            }
            container.innerHTML = tableHTML;
            updateSortIcons(container.querySelector('thead'), albumSortConfig);
        }

        document.addEventListener('DOMContentLoaded', async () => {
            // Setup UI that doesn't depend on Firebase first
            const tabs = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.addEventListener('click', () => {
                tabs.forEach(t => t.classList.remove('active')); tab.classList.add('active');
                tabContents.forEach(tc => tc.classList.remove('active'));
                document.getElementById(tab.dataset.tab).classList.add('active');
            }));
            
            const rankingSubTabs = document.querySelectorAll('.ranking-sub-tab-button');
            const rankingSubTabContents = document.querySelectorAll('.ranking-sub-tab-content');

            rankingSubTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    rankingSubTabs.forEach(t => {
                        t.classList.remove('active', 'border-blue-500', 'text-blue-600');
                        t.classList.add('border-transparent', 'text-gray-500', 'hover:border-gray-300', 'hover:text-gray-700');
                    });
                    tab.classList.add('active', 'border-blue-500', 'text-blue-600');
                    tab.classList.remove('border-transparent', 'text-gray-500', 'hover:border-gray-300', 'hover:text-gray-700');
                    rankingSubTabContents.forEach(tc => tc.classList.remove('active'));
                    document.getElementById(tab.dataset.subtab).classList.add('active');
                });
            });


            allSongsTimeline = beatlesData.flatMap(album => album.songs.filter(song => song && song.recordDate && song.releaseDate).map(song => ({ ...song, albumTitle: album.title })));
            renderTimelineTable();
            renderDiscography();
            
const firebaseConfig = {
  apiKey: "AIzaSyC1ivoIX_VINOLwg4ukYAKQptACOmjaX6E",
  authDomain: "gcrbeatles.firebaseapp.com",
  projectId: "gcrbeatles",
  storageBucket: "gcrbeatles.firebasestorage.app",
  messagingSenderId: "815874079173",
  appId: "1:815874079173:web:dc815509c9bc515a41b3ac"
};

            try {
                const app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);
                await signInAnonymously(auth);
                console.log("Firebase authentication successful.");

                listenForRankings();
                setupRatingSection(); 
                setupSongRankingFilter();
                setupBattleground();
                renderAllRankings();
                
                document.getElementById('song-list-for-rating-body').addEventListener('click', handleLocalRating);
                document.getElementById('save-ratings-btn').addEventListener('click', savePendingRatings);
                document.getElementById('download-csv-btn').addEventListener('click', downloadCSV);
                document.getElementById('download-album-csv-btn').addEventListener('click', downloadAlbumCSV);
                document.getElementById('timeline-table-head').addEventListener('click', (e) => {
                    const header = e.target.closest('th'); if (!header || !header.dataset.sort) return;
                    const key = header.dataset.sort;
                    if (timelineSortConfig.key === key) timelineSortConfig.direction = timelineSortConfig.direction === 'asc' ? 'desc' : 'asc'; else { timelineSortConfig.key = key; timelineSortConfig.direction = key.includes('Date') ? 'asc' : 'desc'; }
                    renderTimelineTable();
                });
                document.getElementById('copy-timeline-btn').addEventListener('click', copyTimelineTable);
                document.getElementById('download-timeline-csv-btn').addEventListener('click', downloadTimelineCSV);

                document.getElementById('song-ranking-mode-selector').addEventListener('click', (e) => {
                    const button = e.target.closest('button');
                    if (!button) return;
                    songRankingMode = button.dataset.mode;
                    document.querySelectorAll('#song-ranking-mode-selector button').forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    renderSongRankingTable();
                });
                
                document.getElementById('album-ranking-mode-selector').addEventListener('click', (e) => {
                    const button = e.target.closest('button');
                    if (!button) return;
                    albumRankingMode = button.dataset.mode;
                    document.querySelectorAll('#album-ranking-mode-selector button').forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    renderAlbumRankingTable();
                });

                document.getElementById('song-ranking-tables-container').addEventListener('click', (e) => {
                    const header = e.target.closest('th'); if (!header || !header.dataset.sort) return;
                    const key = header.dataset.sort;
                    if (songSortConfig.key === key) songSortConfig.direction = songSortConfig.direction === 'asc' ? 'desc' : 'asc'; else { songSortConfig.key = key; songSortConfig.direction = 'desc'; }
                    renderSongRankingTable();
                });
                document.getElementById('album-ranking-tables-container').addEventListener('click', (e) => {
                    const header = e.target.closest('th'); if (!header || !header.dataset.sort) return;
                    const key = header.dataset.sort;
                    if (albumSortConfig.key === key) albumSortConfig.direction = albumSortConfig.direction === 'asc' ? 'desc' : 'asc'; else { albumSortConfig.key = key; albumSortConfig.direction = 'desc'; }
                    renderAlbumRankingTable();
                });


                document.getElementById('battle-selection-body').addEventListener('change', updateSelectedSongsCount);
                document.getElementById('start-battle-btn').addEventListener('click', startBattle);
                document.getElementById('new-battle-btn').addEventListener('click', () => {
                    document.getElementById('battle-results-view').classList.add('hidden');
                    document.getElementById('battle-setup-view').classList.remove('hidden');
                    renderBattleSelectionTable(document.getElementById('battle-album-select').value);
                });

                document.getElementById('reset-db-btn').addEventListener('click', () => {
                    document.getElementById('reset-confirm-modal').style.display = 'block';
                });
                document.getElementById('cancel-reset-btn').addEventListener('click', () => {
                    document.getElementById('reset-confirm-modal').style.display = 'none';
                });
                document.getElementById('reset-confirm-input').addEventListener('input', (e) => {
                    document.getElementById('confirm-reset-btn').disabled = e.target.value !== 'DELETE';
                });
                document.getElementById('confirm-reset-btn').addEventListener('click', resetDatabase);


            } catch (e) {
                console.error("Firebase initialization failed. Ratings will not work.", e);
                const songRankingTab = document.getElementById('song-ranking');
                
                let reasonHTML = '';
                if (e.code === 'auth/api-key-not-valid') {
                    reasonHTML = `<p><b>Reason:</b> The API Key in the Firebase configuration is not valid.</p><p class="mt-1">This usually means you haven't replaced the placeholder values (like "YOUR_API_KEY") in the HTML file with your own project's keys.</p><hr class="my-3 border-red-200"><p class="font-semibold">To fix this:</p><ol class="list-decimal list-inside mt-1 space-y-1"><li>Go to your Firebase Project Settings.</li><li>Under the "General" tab, find your Web App and copy the <code>firebaseConfig</code> object.</li><li>Paste it into this HTML file, replacing the placeholder object.</li></ol>`;
                } else if (e.code === 'auth/configuration-not-found') {
                    reasonHTML = `<p><b>Reason:</b> The <strong>'Anonymous' sign-in method</strong> is not enabled in your Firebase project.</p><hr class="my-3 border-red-200"><p class="font-semibold">To fix this:</p><ol class="list-decimal list-inside mt-1 space-y-1"><li>Go to your Firebase Console.</li><li>Navigate to <strong>Authentication</strong> &gt; <strong>Sign-in method</strong>.</li><li>Click 'Add new provider' and enable <strong>Anonymous</strong>.</li></ol>`;
                } else {
                        reasonHTML = `<p><b>Reason:</b> An unknown error occurred. Check the browser's developer console for more details. (${e.message})</p>`;
                }
                const errorMessageHTML = `<div class="p-4 text-sm text-red-800 rounded-lg bg-red-50 border border-red-200" role="alert"><h3 class="font-bold text-lg mb-2"><i class="fas fa-exclamation-triangle mr-2"></i>Connection Error</h3><p class="mb-2">The ranking and battleground features are disabled because the app could not connect to the database.</p>${reasonHTML}</div>`;
                
                if (songRankingTab) songRankingTab.innerHTML = errorMessageHTML;
            }
        });
    </script>
</body>
</html>
